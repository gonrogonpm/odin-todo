(()=>{"use strict";var e={56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],s=0;s<e.length;s++){var c=e[s],l=r.base?c[0]+r.base:c[0],d=i[l]||0,u="".concat(l," ").concat(d);i[l]=d+1;var h=n(u),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==h)t[h].references++,t[h].updater(p);else{var m=o(p,r);r.byIndex=s,t.splice(s,0,{identifier:u,updater:m,references:1})}a.push(u)}return a}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=n(i[a]);t[s].references--}for(var c=r(e,o),l=0;l<i.length;l++){var d=n(i[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}i=c}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},208:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap);"]),a.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300..900;1,300..900&display=swap);"]),a.push([e.id,'/**************************************************************\n Root Variables (Theme)\n**************************************************************/\n\n:root {\n    /* Main colors - Define the primary background colors for different UI elements */\n    --color-background: #ffffff;               /* Default background color (white) */\n    --color-background-sidebar: #f7f6f2;       /* Sidebar background color (light gray) - used for sidebar, note headers */\n    --color-background-accent: #d3d3d3;        /* Accent background color (medium gray) - used for hover effects, etc. */\n    --color-background-disabled: #f7f7f7;      /* Background color for disabled elements */\n    --color-background-button: #2570e2;        /* Background color for primary buttons (blue) */\n    --color-background-button-hover: #0f4ca7;  /* Hover background color for primary buttons (darker blue) */\n    --color-background-button-delete: #f15e4a; /* Background color for delete buttons (reddish) */\n\n    /* Text colors - Define text colors for different contexts */\n    --color-text-primary: #444444;   /* Main text color (dark gray) - for primary text content */\n    --color-text-secondary: #757779; /* Middle text color (medium gray) - for secondary text, metadata */\n    --color-text-white: #ffffff;     /* Text color for white text */\n    --color-text-light: #a3a6a8;     /* Light text color (light gray) - for less important text, placeholders */\n    --color-text-accent: #2570e2;    /* Accent text color (blue) - for links, active states */\n\n    /* Priorities - Define background colors for different priority levels */\n    --priority-lowest: #b8d6f4;\n    --priority-low: #b3e6c8;\n    --priority-medium: #fef89f;\n    --priority-high: #fed69f;\n    --priority-critital: #f2b4a9;\n\n    /* Fonts - Define font families */\n    --font-family-base: Inter, sans-serif;            /* Main font family (Inter) */\n    --font-family-headings: Rubik, Inter, sans-serif; /* Font family for titles and headings (Rubik) */\n\n    /* Borders - Define border colors and radius */\n    --color-border-light: #eeeeee;\n    --color-border-medium: #cccccc;\n    --border-radius: 6px;\n    --border-radius-progress: 4px;\n\n    /* Main font - Apply default font settings to the root element */\n    font-family: var(--font-family-base);\n    font-feature-settings: \'liga\' 1, \'calt\' 1; /* Fix for Chrome font rendering issues */\n    color: var(--color-text-primary);\n}\n\n@supports (font-variation-settings: normal) {\n    :root {\n        --font-family-base: InterVariable, sans-serif; \n    }\n}\n\n/**************************************************************\n Base Styles (Reset and HTML Elements)\n**************************************************************/\n\n/* Basic reset to normalize styles across browsers */\n* {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n}\n\nhtml {\n    height: 100vh;\n}\n\nbody {\n    height: 100vh;\n    background-color: var(--color-background);\n}\n\nh1, h2, h3, h4 {\n    font-weight: bold;\n    font-family: var(--font-family-headings);\n    text-transform: capitalize;\n}\n\nh1 { font-size: 2rem;   margin: 0.7rem 0; }\nh2 { font-size: 1.5rem; margin: 0.9rem 0; }\nh3 { font-size: 1.2rem; margin: 1.1rem 0; }\nh4 { font-size: 1rem;   margin: 1.3rem 0; }\n\nul {\n    list-style: none;\n}\n\n/**************************************************************\n Form Elements (Inputs, Selects, Textareas)\n**************************************************************/\n\ninput, select, textarea {\n    padding: 0.4rem;\n    background-color: var(--color-background);\n    border-radius: var(--border-radius);\n    border: 1px solid var(--color-border-light);\n    font-family: var(--font-family-base);\n    font-size: 1rem;\n}\n\nselect {\n    padding: 0.475rem 0.4rem;\n}\n\ntextarea {\n    padding: 0.4rem 0.6rem;\n}\n\ninput:active, textarea:active, select:active, input:focus, textarea:focus, select:focus {\n    outline: 0;\n    border: 1px solid var(--color-text-accent);\n}\n\n/**************************************************************\n Buttons\n**************************************************************/\n\n/* Base button styles */\nbutton {\n    padding: 0.5rem 1rem;\n    color: var(--color-text-white);\n    background-color: var(--color-background-button);\n    border-radius: var(--border-radius);\n    border: 0;\n    font-family: var(--font-family-headings);\n    font-size: 1rem;\n    text-transform: capitalize;\n    cursor: pointer;\n    display: inline-flex;\n    align-items: center;\n    gap: 0.2rem;\n}\n\n/* Style for SVG icons inside buttons */\nbutton svg {\n    width:  20px;\n    height: auto;\n    fill:   var(--color-text-white);\n}\n\nbutton:hover {\n    background-color: var(--color-background-button-hover);\n}\n\nbutton:active {\n    background-color: var(--color-background-button-hover);\n}\n\n/* Cancel button style - Transparent background, main text color */\nbutton.button-cancel {\n    background-color: transparent;\n    color: var(--color-text-primary);\n}\n\nbutton.button-cancel svg {\n    fill: var(--color-text-primary);\n}\n\nbutton.button-cancel:hover {\n    background-color: var(--color-background-accent);\n}\n\n/* Button as link style - No padding, no border, main text color */\nbutton.link {\n    padding: 0;\n    border: 0;\n    color: var(--color-text-primary);\n    background-color: transparent;\n    text-transform: capitalize;\n}\n\nbutton.link svg { \n    width:  20px;\n    height: auto;\n    fill:   var(--color-text-primary);\n}\n\nbutton.link:hover, button.link:hover svg {\n    background-color: transparent;\n    color: var(--color-text-accent);\n    fill:  var(--color-text-accent);\n}\n\nbutton.link.delete:hover, button.link.delete:hover svg {\n    color: var(--color-background-button-delete);\n    fill:  var(--color-background-button-delete);\n}\n\n/**************************************************************\n Dialogs\n**************************************************************/\n\n/* Dialog wrapper - Use display contents to avoid extra div in DOM */\ndiv#dialog {\n    display: contents;\n}\n\ndialog {\n    padding: 2rem;\n    margin: 0;\n    border: 0;\n    border-radius: var(--border-radius);\n    position: absolute;\n    width: 50%;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n}\n\n/* Dark semi-transparent backdrop for dialogs */\ndialog::backdrop {\n    background-color: rgba(0, 0, 0, 0.4);\n}\n\n/* Dialog form styles - Flexbox layout for form elements */\ndialog form {\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n}\n\n/* Dialog controls (buttons) styles - Flexbox layout for buttons */\ndialog .controls {\n    margin-top: 1rem;\n    display: flex;\n    gap: 1rem;\n    justify-content: center;\n}\n\n/* Dialog form controls styles - Remove margin top when controls are inside form */\ndialog form .controls {\n    margin-top: 0;\n}\n\n\n.delete-dialog span::before {\n    content: "\\""; /* Add quote before project name */\n    font-weight: normal;\n}\n\n.delete-dialog span::after {\n    content: "\\""; /* Add quote after project name */\n    font-weight: normal;\n}\n\n.delete-dialog span {\n    font-weight: bold;\n    text-transform: capitalize;\n}\n\n/**************************************************************\n Content (Main Layout)\n**************************************************************/\n\n/* Main content container - Grid layout with sidebar and main area */\nbody > .content {\n    width: 100%;\n    height: 100%;\n    display: grid;\n    grid-template-columns: minmax(210px, 250px) auto;\n}\n\n/* Sidebar styles - Fixed width sidebar on the left */\n#sidebar {\n    padding: 2rem;\n    background-color: var(--color-background-sidebar);\n    border-right: 1px solid var(--color-border-light);\n}\n\n#sidebar #logo {\n    margin-bottom: 1.5rem;\n    text-align: center;\n}\n\n#sidebar #logo img {\n    width: 80%;\n    height: auto;\n}\n\n/* Sidebar heading styles */\n#sidebar h2 {\n    color: var(--color-text-light);\n    text-transform: uppercase;\n    font-size: 1rem;\n    letter-spacing: 2px;\n}\n\n/* Project list in sidebar styles - top and bottom borders to visually separate */\n#sidebar .list-wrapper {\n    margin: 0.8rem 0;\n    padding: 0.4rem 0;\n    border-top: 1px solid var(--color-border-medium);\n    border-bottom: 1px solid var(--color-border-medium);\n}\n\n#sidebar ul {\n    margin-left: 1rem;\n    list-style-type: square;\n}\n\n#sidebar li {\n    margin: 0.4rem 0;\n}\n\n#sidebar li::marker {\n    color: var(--color-text-secondary);\n    padding: 0;\n    margin:0;\n}\n\n/* Sidebar project list button styles */\n#sidebar li button {\n    background-color: transparent;\n    border: 0;\n    padding: 0;\n    font-size: 1rem;\n    color: var(--color-text-secondary);\n    text-align: left;\n}\n\n#sidebar li button:hover {\n    color: var(--color-text-accent);\n}\n\n#sidebar .button-add {\n    flex-shrink: 0;\n}\n\n#main {\n    padding: 2rem;\n}\n\n/* Main content first heading styles */\n#main h2:first-child {\n    margin-top: 0;\n}\n\n/**************************************************************\n Project\n**************************************************************/\n\n.project-title h2 {\n    margin-bottom: 2rem;\n    font-size: 3rem;\n    font-weight: normal;\n}\n\n.project-menu {\n    padding-bottom: 0.5rem;\n    margin-bottom: 0.5rem;\n    gap: 0.5rem;\n    display: flex;\n    justify-content: stretch;\n    align-items: stretch;\n    border-bottom: 1px dashed var(--color-border-light);\n}\n\n/* Project menu left part styles - Flex grow to push buttons to the right */\n.project-menu div:first-child {\n    flex-grow: 1;\n}\n\n/* Project menu right part styles - Flex shrink to prevent buttons from wrapping */\n.project-menu div:nth-child(2) {\n    flex-shrink: 0;\n    display: flex;\n    gap: 0.4rem;\n    align-items: center;\n}\n\n.project-menu-right button svg {\n    width: 2rem;\n}\n\n.notes-add-form {\n    display: flex;\n    justify-content: stretch;\n    align-items: stretch;\n    gap: 0.5rem;\n}\n\n.notes-add-form input[type="text"] {\n    flex-grow: 1;\n}\n\n.project-empty {\n    padding: 2rem;\n    background-color: var(--color-background-disabled);\n    color: var(--color-text-light);\n    border-radius: var(--border-radius);\n    text-align: center;\n}\n\n.project-empty span {\n    font-weight: bold;\n}\n\n.project-footer {\n    margin-top: 0.5rem;\n    padding-top: 0.5rem;\n    border-top: 1px dashed var(--color-border-light);\n    text-align: right;\n}\n\n.project-footer button {\n    color: var(--color-text-light);\n    font-size: 0.9rem;\n}\n\n.project-footer button svg {\n    fill: var(--color-text-light);\n}\n\n/**************************************************************\n Search\n**************************************************************/\n\n.search-title h2 {\n    margin-bottom: 2rem;\n    font-size: 3rem;\n    font-weight: normal;\n    display: flex;\n    gap: 0.5rem;\n}\n\n.search-title h2 svg {\n    fill: var(--color-text-primary);\n    width: 3rem;\n    height: auto;\n}\n\n.search-list, .search-list-empty {\n    padding: 0.5rem 0;\n    border-top: 1px dashed var(--color-border-light);\n    border-bottom: 1px dashed var(--color-border-light);\n}\n\n.search-empty {\n    padding: 2rem;\n    background-color: var(--color-background-disabled);\n    color: var(--color-text-light);\n    border-radius: var(--border-radius);\n    text-align: center;\n}\n\n.search-empty span {\n    font-weight: bold;\n}\n\n/**************************************************************\n Note Common Styles (Shared styles for note item and card)\n**************************************************************/\n\n.note .note-title {\n    margin: 0;\n}\n\n.note .note-title-progress::before {\n    content: "–";\n    margin-right: 0.4rem;\n}\n\n.note .note-title-progress {\n    margin: 0 0.2rem 0 0.4rem;\n}\n\n.note .note-title-wrapper svg {\n    width:  14px;\n    height: 14px;\n    fill: var(--color-text-primary);\n}\n\n.note .note-meta {\n    font-family: var(--font-family-headings);\n    font-size: 0.9rem;\n}\n\n.note .note-title:hover {\n    color: var(--color-text-accent);\n    cursor: pointer;\n}\n\n.note.note-done .note-title {\n    text-decoration: line-through var(--color-text-primary) 1px;\n}\n\n.note.note-done .note-title:hover {\n    text-decoration: line-through var(--color-text-accent) 1px;\n}\n\n.note .note-progress {\n    display: flex;\n    margin: 1.0rem 0;\n    gap: 0.5rem;\n}\n\n.note .note-progress .progress-label::after  { content: ":"; }\n\n.note .progress-border {\n    flex-grow: 1;\n    align-self: stretch;\n    border: 1px solid var(--color-border-light);\n    border-radius: var(--border-radius);\n    padding: 2px;\n}\n\n.note .progress-bar {\n    height: 100%;\n    border-radius: var(--border-radius-progress);\n    background-color: var(--color-background-button);\n}\n\n/**************************************************************\n Note List Item Styles (Styles for notes in list view)\n**************************************************************/\n\n/* Project list container and search list container styles - Grid layout for note list items */\n.project .project-list, .search .search-list {\n    display: grid;\n    grid-template-columns: min-content 1fr max-content; /* 3 columns: done checkbox, title/date, priority */\n    grid-auto-flow: row;\n    align-items: stretch;\n}\n\n/* Note list item container styles - Display contents to avoid extra element in DOM */\n.note-item              { display: contents; }\n.note-item .note-header { display: contents; }\n.note-item .note-meta   { display: contents; }\n\n.note-item * { \n    margin: 0; \n    font-size: 0.9rem;\n}\n\n/* Note list item button container styles - First grid column */\n.note-item .note-buttons  { grid-column: 1 / 2; }\n/* Note list item title styles - Second grid column */\n.note-item .note-title    { grid-column: 2 / 3; }\n/* Note list item priority styles - Third grid column */\n.note-item .note-priority { grid-column: 3 / 4; }\n/* Note list item due date styles - Second grid column, below title */\n.note-item .note-due-date { grid-column: 2 / 3; }\n\n.note-item section > * {\n    display: flex;\n    align-items: center;\n    padding: 0.5rem 0.5rem 0.5rem 0.5rem;\n    border-top: 1px solid var(--color-border-light);\n}\n\n/* Remove top border from first item */\n.note-item:first-child section > * {\n    border-top: 0;\n}\n\n/* Reduced padding top when due date is present */\n.note-item:has(.note-due-date) section > * {\n    padding: 0.5rem 0.5rem 0.1rem 0.5rem;\n}\n\n/* Due date styles - Remove top border, adjusted padding  */\n.note-item section .note-due-date {\n    border-top: 0;\n    padding: 0 0.5rem 0.5rem 0.5rem;\n    font-size: 0.8rem;\n    color: var(--color-text-secondary);\n}\n\n/**************************************************************\n Note Card Styles (Styles for notes in grid view)\n**************************************************************/\n\n/* Project grid container styles - grid layout for note cards, responsive columns */\n.project .project-grid {\n    --note-gap:       1rem;                        /* Gap between note cards */\n    --min-note-width: 350px;                       /* Minimum width for note cards */\n    --max-note-width: calc(25% - var(--note-gap)); /* Maximum width (25% - gap) for note cards */\n\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(max(var(--min-note-width), var(--max-note-width)), 1fr));\n    align-items: start;\n    gap: var(--note-gap);\n}\n\n.note-card {\n    border: 1px solid var(--color-border-light);\n    border-radius: var(--border-radius);\n}\n\n.note-card section {\n    padding: 1rem;\n}\n\n.note-card .note-content {\n    padding: 0.5rem 0.5rem;\n}\n\n.note-card .note-controls {\n    display: flex;\n    gap: 0.5rem;\n    padding: 1rem;\n    padding-top: 0;\n}\n\n.note-card .note-header {\n    width: 100%;\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    padding: 0.5rem;\n    background-color: var(--color-background-sidebar);\n    border-bottom: 1px solid var(--color-border-light);\n}\n\n.note-card .note-buttons {\n    display: flex;\n    gap: 4px;\n}\n\n.note-card .note-buttons svg {\n    min-width: 20px;\n    width: 20px;\n    height: auto;\n}\n\n.note-card .note-delete {\n    display: flex;\n    margin-left: auto; /* Push delete button to the right */\n}\n\n.note-card .note-description .see-more {\n    text-align: right;\n}\n\n.note-card .note-content {\n    border-top: 1px dashed var(--color-border-light);\n}\n\n.note-card .note-meta {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    gap: 1rem;\n    border-top: 1px solid var(--color-border-light);\n}\n\n.note-card .note-empty-field, .note-card .note-empty-desc {\n    padding: 0.2rem 0.5rem;\n    background-color: var(--color-background-disabled);\n    color: var(--color-text-light);\n    border-radius: var(--border-radius);\n    cursor: pointer;\n}\n\n.note-card .note-empty-desc {\n    padding: 1rem;\n}\n\n.note-title-edit-form {\n    display: flex;\n    justify-content: stretch;\n    align-items: stretch;\n    gap: 0.5rem;\n}\n\n.note-title-edit-form input[type="text"] {\n    flex-grow: 1;\n}\n\n.note-desc-edit-form textarea {\n    display: block;\n    width: 100%;\n    resize: vertical;\n    margin-bottom: 0.5rem;\n}\n\n.note-desc-controls {\n    display: flex;\n    gap: 0.5rem;\n}\n\n.note-priority-edit-form, .note-date-edit-form {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n}\n\n.note-footer {\n    margin: 0.5rem 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: 0.25rem;\n    font-size: 0.9rem;\n    color: var(--color-text-light);\n}\n\n.note-footer svg { \n    width: 20px;\n    min-width: 20px;\n    fill:  var(--color-text-light);\n}\n\n/**************************************************************\n Notes List Styles (Specific styles for note list items)\n**************************************************************/\n\n/* Note list item container styles - Grid layout for note list items in sidebar */\n.note-list-item {\n    display: grid;\n    grid-template-rows: 1fr 1fr;\n}\n\n.note-list-item section:first-child {\n    flex-grow: 1;\n}\n\n.note-list-item section:not(:first-child) {\n    flex-shrink: 0;\n}\n\n/**************************************************************\n Notes Contents\n**************************************************************/\n\n.note section.note-content {\n    padding: 1rem;\n}\n\n.note section.note-content:empty {\n    padding: 0.5rem;\n}\n\n.note-content > * {\n    padding: 1rem;\n    margin-bottom: 1rem;\n    border-radius: var(--border-radius);\n    border: 1px solid var(--color-border-light);\n}\n\n.note-content > *:last-child {\n    margin-bottom: 0;\n}\n\n.note-content .text-block:hover {\n    background-color: var(--color-background-disabled);\n}\n\n.note-content .text-block-edit-form textarea {\n    display: block;\n    width: 100%;\n    resize: vertical;\n    margin-bottom: 0.5rem;\n}\n\n.text-block-controls {\n    display: flex;\n    gap: 0.5rem;\n}\n\n.text-block-controls .button-delete {\n    margin-left: auto;\n}\n\n.note-content .checklist-controls {\n    border-top: 1px dashed var(--color-border-light);\n    margin-top: 0.75rem;\n    padding-top: 1rem;\n    display: flex;\n}\n\n.note-content .checklist-controls .button-delete {\n    margin-left: auto;\n}\n\n.note-content .checklist ul li {\n    margin: 0.5rem 0;\n}\n\n.note-content .checklist ul li:first-child {\n    margin-top: 0;\n}\n\n.note-content .checklist-item {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n}\n\n.note-content .checklist-input {\n    flex-shrink: 0;\n    flex-grow: 0;\n    display: flex;\n}\n\n.note-content .checklist-input {\n    width: 15px;\n    height: 15px;\n}\n\n.note-content .checklist-input label {\n    display: none;\n}\n\n.note-content .checklist-text {\n    flex-shrink: 1;\n    flex-grow: 1;\n}\n\n.note-content .checklist-item-edit-form {\n    flex-shrink: 1;\n    flex-grow: 1;\n    padding: 1rem;\n    border: 1px solid var(--color-border-light);\n    border-radius: var(--border-radius);\n    display: flex;\n    flex-direction: column;\n    gap: 0.5rem;\n}\n\n.note-content .checklist-item-controls {\n    display: flex;\n    gap: 0.5rem;\n}\n\n.note-content .checklist-item-controls .button-delete {\n    margin-left: auto;\n}\n\n/**************************************************************\n Priority Styles (Styles for priority labels)\n**************************************************************/\n\n.priority {\n    border-radius: var(--border-radius);\n    padding: 0.2rem 0.5rem;\n    text-transform: capitalize;\n}\n\n.priority-lowest   { background-color: var(--priority-lowest); }\n.priority-low      { background-color: var(--priority-low); }\n.priority-medium   { background-color: var(--priority-medium); }\n.priority-high     { background-color: var(--priority-high); }\n.priority-critical { background-color: var(--priority-critital); }',""]);const s=a},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);r&&a[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),t.push(d))}},t}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=r[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.nc=void 0;var r=n(72),o=n.n(r),i=n(825),a=n.n(i),s=n(659),c=n.n(s),l=n(56),d=n.n(l),u=n(540),h=n.n(u),p=n(113),m=n.n(p),f=n(208),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=c().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=h(),o()(f.A,g),f.A&&f.A.locals&&f.A.locals;const y="__app__",w=Object.freeze({Lowest:0,Low:1,Medium:2,Hight:3,Critical:4});function b(e){switch(e){case 0:return"lowest";case 1:return"low";case 2:return"medium";case 3:return"high";case 4:return"critical"}}let x=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&n[e]];return t};class v{#e=null;#t=null;constructor(e=null){this.#e=null==e?x():String(e)}get id(){return this.#e}get note(){return this.#t}get type(){throw new Error("Not implemented")}__setNote(e){this.#t=e}serialize(){return{id:this.#e,type:this.type}}save(){this.#t.save()}}class k{constructor(e,t,n=!1){this.id=e,this.text=t,this.checked=n}setChecked(e){this.checked=Boolean(e)}}class C extends v{#n=[];#r=0;constructor(e=null,t=null){super(t),null!==e&&this.add(e)}static getType(){return"Checklist"}get type(){return C.getType()}get count(){return this.#n.length}get completed(){return this.#n.reduce(((e,t)=>e+(t.checked?1:0)),0)}getById(e){const t=this.#n.findIndex((t=>t.id==e));if(!(t<0))return this.get(t)}get(e){if("number"!=typeof e)throw TypeError("index must be a number");return Object.assign({},this.#o(e))}setCheckedById(e,t){const n=this.#i(e);null!=n&&(n.checked=t)}setTextById(e,t){if(null==t||t instanceof Object||Array.isArray(t))throw Error("Invalid value");const n=this.#i(e);null!=n&&(n.text=String(t))}#i(e){const t=this.#n.findIndex((t=>t.id==e));if(!(t<0))return this.#n[t]}#o(e){if(e<0||e>=this.#n.length)throw RangeError("Invalid index");return this.#n[e]}add(e){if(Array.isArray(e)){let t;return e.forEach((e=>{t=this.add(e)})),t}if("object"==typeof e){if(!e.text)throw Error("Text property is not defined in object");return this.#a(e.text,e.checked)}if("string"==typeof e)return this.#a(e)}#a(e,t=!1){if(null==e||e instanceof Object||Array.isArray(e))throw Error("Invalid value");return this.#n.push(new k(this.#r++,String(e),t)),this.#n.at(-1).id}removeById(e){const t=this.#n.findIndex((t=>t.id==e));t<0||this.#n.splice(t,1)}serialize(){return{...super.serialize(),items:this.#n,nextId:this.#r}}static deserialize(e){let t=new C(null,e.id);return t.#r=e.nextId,Array.isArray(e.items)&&(t.#n=e.items.map((e=>new k(e.id,e.text,e.checked)))),t}}function D(){return""!==window.getSelection().toString()}function S(e){let t=0,n=-1;do{n=e.indexOf("\n",n+1),n>=0&&t++}while(n>=0);return t+1}class M extends v{constructor(e="",t=null){super(t),this.text=e}static getType(){return"TextBlock"}get type(){return M.getType()}get lineCount(){S(this.text)}serialize(){return{...super.serialize(),text:this.text}}static deserialize(e){return new M(e.text,e.id)}}const j={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function T(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const P={date:T({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:T({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:T({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},I={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function E(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,o=n?.width?String(n.width):t;r=e.formattingValues[o]||e.formattingValues[t]}else{const t=e.defaultWidth,o=n?.width?String(n.width):e.defaultWidth;r=e.values[o]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const N={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:E({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:E({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:E({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:E({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:E({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function F(e){return(t,n={})=>{const r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;const a=i[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(s)?function(e){for(let t=0;t<e.length;t++)if(e[t].test(a))return t}(s):function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].test(a))return t}(s);let l;return l=e.valueCallback?e.valueCallback(c):c,l=n.valueCallback?n.valueCallback(l):l,{value:l,rest:t.slice(a.length)}}}const L={ordinalNumber:(H={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},(e,t={})=>{const n=e.match(H.matchPattern);if(!n)return null;const r=n[0],o=e.match(H.parsePattern);if(!o)return null;let i=H.valueCallback?H.valueCallback(o[0]):o[0];return i=t.valueCallback?t.valueCallback(i):i,{value:i,rest:e.slice(r.length)}}),era:F({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:F({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:F({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:F({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:F({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var H;const q={code:"en-US",formatDistance:(e,t,n)=>{let r;const o=j[e];return r="string"==typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:P,formatRelative:(e,t,n,r)=>I[e],localize:N,match:L,options:{weekStartsOn:0,firstWeekContainsDate:1}},A=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},B=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},R={p:B,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return A(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;default:i=t.dateTime({width:"full"})}return i.replace("{{date}}",A(r,t)).replace("{{time}}",B(o,t))}},O=/^D+$/,W=/^Y+$/,z=["D","DD","YY","YYYY"];function Y(e){return O.test(e)}function _(e){return W.test(e)}function $(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(r),z.includes(e))throw new RangeError(r)}Math.pow(10,8);const V=6048e5,G=Symbol.for("constructDateFrom");function Q(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&G in e?e[G](t):e instanceof Date?new e.constructor(t):new Date(t)}let X={};function Z(){return X}function J(e,t){return Q(t||e,e)}class U{subPriority=0;validate(e,t){return!0}}class K extends U{constructor(e,t,n,r,o){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=r,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class ee extends U{priority=10;subPriority=-1;constructor(e,t){super(),this.context=e||(e=>Q(t,e))}set(e,t){return t.timestampIsSet?e:Q(e,function(e,t){const n=function(e){return"function"==typeof e&&e.prototype?.constructor===e}(t)?new t(0):Q(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}(e,this.context))}}class te{run(e,t,n,r){const o=this.parse(e,t,n,r);return o?{setter:new K(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,n){return!0}}const ne=/^(1[0-2]|0?\d)/,re=/^(3[0-1]|[0-2]?\d)/,oe=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,ie=/^(5[0-3]|[0-4]?\d)/,ae=/^(2[0-3]|[0-1]?\d)/,se=/^(2[0-4]|[0-1]?\d)/,ce=/^(1[0-1]|0?\d)/,le=/^(1[0-2]|0?\d)/,de=/^[0-5]?\d/,ue=/^[0-5]?\d/,he=/^\d/,pe=/^\d{1,2}/,me=/^\d{1,3}/,fe=/^\d{1,4}/,ge=/^-?\d+/,ye=/^-?\d/,we=/^-?\d{1,2}/,be=/^-?\d{1,3}/,xe=/^-?\d{1,4}/,ve=/^([+-])(\d{2})(\d{2})?|Z/,ke=/^([+-])(\d{2})(\d{2})|Z/,Ce=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,De=/^([+-])(\d{2}):(\d{2})|Z/,Se=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function Me(e,t){return e?{value:t(e.value),rest:e.rest}:e}function je(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Te(e,t){const n=t.match(e);return n?"Z"===n[0]?{value:0,rest:t.slice(1)}:{value:("+"===n[1]?1:-1)*(36e5*(n[2]?parseInt(n[2],10):0)+6e4*(n[3]?parseInt(n[3],10):0)+1e3*(n[5]?parseInt(n[5],10):0)),rest:t.slice(n[0].length)}:null}function Pe(e){return je(ge,e)}function Ie(e,t){switch(e){case 1:return je(he,t);case 2:return je(pe,t);case 3:return je(me,t);case 4:return je(fe,t);default:return je(new RegExp("^\\d{1,"+e+"}"),t)}}function Ee(e,t){switch(e){case 1:return je(ye,t);case 2:return je(we,t);case 3:return je(be,t);case 4:return je(xe,t);default:return je(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Ne(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function Fe(e,t){const n=t>0,r=n?t:1-t;let o;if(r<=50)o=e||100;else{const t=r+50;o=e+100*Math.trunc(t/100)-(e>=t%100?100:0)}return n?o:1-o}function Le(e){return e%400==0||e%4==0&&e%100!=0}function He(e,t){const n=Z(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=J(e,t?.in),i=o.getDay(),a=(i<r?7:0)+i-r;return o.setDate(o.getDate()-a),o.setHours(0,0,0,0),o}function qe(e,t){const n=J(e,t?.in),r=n.getFullYear(),o=Z(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,a=Q(t?.in||e,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const s=He(a,t),c=Q(t?.in||e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const l=He(c,t);return+n>=+s?r+1:+n>=+l?r:r-1}function Ae(e,t){return He(e,{...t,weekStartsOn:1})}function Be(e,t){const n=J(e,t?.in),r=+He(n,t)-+function(e,t){const n=Z(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=qe(e,t),i=Q(t?.in||e,0);return i.setFullYear(o,0,r),i.setHours(0,0,0,0),He(i,t)}(n,t);return Math.round(r/V)+1}function Re(e,t){const n=J(e,t?.in),r=n.getFullYear(),o=Q(n,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const i=Ae(o),a=Q(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const s=Ae(a);return n.getTime()>=i.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function Oe(e,t){const n=J(e,t?.in),r=+Ae(n)-+function(e,t){const n=Re(e,t),r=Q(t?.in||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Ae(r)}(n);return Math.round(r/V)+1}const We=[31,28,31,30,31,30,31,31,30,31,30,31],ze=[31,29,31,30,31,30,31,31,30,31,30,31];function Ye(e,t,n){const r=J(e,n?.in);return isNaN(t)?Q(n?.in||e,NaN):t?(r.setDate(r.getDate()+t),r):r}function _e(e,t,n){const r=Z(),o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=J(e,n?.in),a=i.getDay(),s=7-o;return Ye(i,t<0||t>6?t-(a+s)%7:((t%7+7)%7+s)%7-(a+s)%7,n)}function $e(e,t,n){const r=J(e,n?.in);return Ye(r,t-function(e,t){const n=J(e,t?.in).getDay();return 0===n?7:n}(r,n),n)}function Ve(e){const t=J(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}const Ge={G:new class extends te{priority=140;parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]},y:new class extends te{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"yy"===t});switch(t){case"y":return Me(Ie(4,e),r);case"yo":return Me(n.ordinalNumber(e,{unit:"year"}),r);default:return Me(Ie(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const r=e.getFullYear();if(n.isTwoDigitYear){const t=Fe(n.year,r);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}const o="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}},Y:new class extends te{priority=130;parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"YY"===t});switch(t){case"Y":return Me(Ie(4,e),r);case"Yo":return Me(n.ordinalNumber(e,{unit:"year"}),r);default:return Me(Ie(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,r){const o=qe(e,r);if(n.isTwoDigitYear){const t=Fe(n.year,o);return e.setFullYear(t,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),He(e,r)}const i="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(i,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),He(e,r)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:new class extends te{priority=130;parse(e,t){return Ee("R"===t?4:t.length,e)}set(e,t,n){const r=Q(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Ae(r)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:new class extends te{priority=130;parse(e,t){return Ee("u"===t?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]},Q:new class extends te{priority=120;parse(e,t,n){switch(t){case"Q":case"QQ":return Ie(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:new class extends te{priority=120;parse(e,t,n){switch(t){case"q":case"qq":return Ie(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:new class extends te{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,n){const r=e=>e-1;switch(t){case"M":return Me(je(ne,e),r);case"MM":return Me(Ie(2,e),r);case"Mo":return Me(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}},L:new class extends te{priority=110;parse(e,t,n){const r=e=>e-1;switch(t){case"L":return Me(je(ne,e),r);case"LL":return Me(Ie(2,e),r);case"Lo":return Me(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:new class extends te{priority=100;parse(e,t,n){switch(t){case"w":return je(ie,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return Ie(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,r){return He(function(e,t,n){const r=J(e,n?.in),o=Be(r,n)-t;return r.setDate(r.getDate()-7*o),J(r,n?.in)}(e,n,r),r)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:new class extends te{priority=100;parse(e,t,n){switch(t){case"I":return je(ie,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return Ie(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return Ae(function(e,t,n){const r=J(e,n?.in),o=Oe(r,n)-t;return r.setDate(r.getDate()-7*o),r}(e,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:new class extends te{priority=90;subPriority=1;parse(e,t,n){switch(t){case"d":return je(re,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return Ie(t.length,e)}}validate(e,t){const n=Le(e.getFullYear()),r=e.getMonth();return n?t>=1&&t<=ze[r]:t>=1&&t<=We[r]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:new class extends te{priority=90;subpriority=1;parse(e,t,n){switch(t){case"D":case"DD":return je(oe,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return Ie(t.length,e)}}validate(e,t){return Le(e.getFullYear())?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:new class extends te{priority=90;parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=_e(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]},e:new class extends te{priority=90;parse(e,t,n,r){const o=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return Me(Ie(t.length,e),o);case"eo":return Me(n.ordinalNumber(e,{unit:"day"}),o);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=_e(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:new class extends te{priority=90;parse(e,t,n,r){const o=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return Me(Ie(t.length,e),o);case"co":return Me(n.ordinalNumber(e,{unit:"day"}),o);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=_e(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:new class extends te{priority=90;parse(e,t,n){const r=e=>0===e?7:e;switch(t){case"i":case"ii":return Ie(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return Me(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return Me(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return Me(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return Me(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return(e=$e(e,n)).setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:new class extends te{priority=80;parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(Ne(n),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]},b:new class extends te{priority=80;parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(Ne(n),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]},B:new class extends te{priority=80;parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(Ne(n),0,0,0),e}incompatibleTokens=["a","b","t","T"]},h:new class extends te{priority=70;parse(e,t,n){switch(t){case"h":return je(le,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return Ie(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const r=e.getHours()>=12;return r&&n<12?e.setHours(n+12,0,0,0):r||12!==n?e.setHours(n,0,0,0):e.setHours(0,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]},H:new class extends te{priority=70;parse(e,t,n){switch(t){case"H":return je(ae,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return Ie(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]},K:new class extends te{priority=70;parse(e,t,n){switch(t){case"K":return je(ce,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return Ie(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]},k:new class extends te{priority=70;parse(e,t,n){switch(t){case"k":return je(se,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return Ie(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const r=n<=24?n%24:n;return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]},m:new class extends te{priority=60;parse(e,t,n){switch(t){case"m":return je(de,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return Ie(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=["t","T"]},s:new class extends te{priority=50;parse(e,t,n){switch(t){case"s":return je(ue,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return Ie(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=["t","T"]},S:new class extends te{priority=30;parse(e,t){return Me(Ie(t.length,e),(e=>Math.trunc(e*Math.pow(10,3-t.length))))}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=["t","T"]},X:new class extends te{priority=10;parse(e,t){switch(t){case"X":return Te(ve,e);case"XX":return Te(ke,e);case"XXXX":return Te(Ce,e);case"XXXXX":return Te(Se,e);default:return Te(De,e)}}set(e,t,n){return t.timestampIsSet?e:Q(e,e.getTime()-Ve(e)-n)}incompatibleTokens=["t","T","x"]},x:new class extends te{priority=10;parse(e,t){switch(t){case"x":return Te(ve,e);case"xx":return Te(ke,e);case"xxxx":return Te(Ce,e);case"xxxxx":return Te(Se,e);default:return Te(De,e)}}set(e,t,n){return t.timestampIsSet?e:Q(e,e.getTime()-Ve(e)-n)}incompatibleTokens=["t","T","X"]},t:new class extends te{priority=40;parse(e){return Pe(e)}set(e,t,n){return[Q(e,1e3*n),{timestampIsSet:!0}]}incompatibleTokens="*"},T:new class extends te{priority=20;parse(e){return Pe(e)}set(e,t,n){return[Q(e,n),{timestampIsSet:!0}]}incompatibleTokens="*"}},Qe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Xe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ze=/^'([^]*?)'?$/,Je=/''/g,Ue=/\S/,Ke=/[a-zA-Z]/;function et(e,t,n,r){const o=()=>Q(r?.in||n,NaN),i=Object.assign({},Z()),a=r?.locale??i.locale??q,s=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0;if(!t)return e?o():J(n,r?.in);const l={firstWeekContainsDate:s,weekStartsOn:c,locale:a},d=[new ee(r?.in,n)],u=t.match(Xe).map((e=>{const t=e[0];return t in R?(0,R[t])(e,a.formatLong):e})).join("").match(Qe),h=[];for(let n of u){!r?.useAdditionalWeekYearTokens&&_(n)&&$(n,t,e),!r?.useAdditionalDayOfYearTokens&&Y(n)&&$(n,t,e);const i=n[0],s=Ge[i];if(s){const{incompatibleTokens:t}=s;if(Array.isArray(t)){const e=h.find((e=>t.includes(e.token)||e.token===i));if(e)throw new RangeError(`The format string mustn't contain \`${e.fullToken}\` and \`${n}\` at the same time`)}else if("*"===s.incompatibleTokens&&h.length>0)throw new RangeError(`The format string mustn't contain \`${n}\` and any other token at the same time`);h.push({token:i,fullToken:n});const r=s.run(e,n,a.match,l);if(!r)return o();d.push(r.setter),e=r.rest}else{if(i.match(Ke))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");if("''"===n?n="'":"'"===i&&(n=n.match(Ze)[1].replace(Je,"'")),0!==e.indexOf(n))return o();e=e.slice(n.length)}}if(e.length>0&&Ue.test(e))return o();const p=d.map((e=>e.priority)).sort(((e,t)=>t-e)).filter(((e,t,n)=>n.indexOf(e)===t)).map((e=>d.filter((t=>t.priority===e)).sort(((e,t)=>t.subPriority-e.subPriority)))).map((e=>e[0]));let m=J(n,r?.in);if(isNaN(+m))return o();const f={};for(const e of p){if(!e.validate(m,l))return o();const t=e.set(m,f,l);Array.isArray(t)?(m=t[0],Object.assign(f,t[1])):m=t}return m}class tt{#e=null;#s=null;#c=!1;#l=null;#d=[];constructor({id:e=null,title:t="",description:n="",done:r=!1,dueDate:o=null,priority:i=w.Medium,contents:a=[]}={}){this.title=t,this.description=n,this.priority=i,this.#e=null==e?x():String(e),this.#c=Boolean(r),this.#d=a,this.setDueDate(o)}static getType(){return"Note"}get type(){return tt.getType()}get id(){return this.#e}get project(){return this.#s}get projectId(){return this.#s.id}__setProject(e){this.#s=e}get isDone(){return!0===this.#c}toggleDone(){this.#c=!this.#c}get dueDate(){return this.#l}setDueDate(e){if("object"==typeof e&&e instanceof Date)return e.setMilliseconds(0),e.setSeconds(0),void(this.#l=e.toISOString());if("string"!=typeof e){if(null!==e)throw TypeError("Due date must be Date, string or null");this.#l=null}else this.#u(e)}#u(e){if("string"!=typeof e)throw TypeError("Due date must be a string");let t=et(e,"yyyy-MM-dd'T'HH:mm",new Date);isNaN(t)&&(t=et(e,"yyyy-MM-dd' 'HH:mm",new Date)),isNaN(t)&&(t=et(e,"yyyy-MM-dd",new Date),t.setHours(23),t.setMinutes(59),t.setSeconds(0)),isNaN(t)?console.log("Invalid date format"):(t.setSeconds(0),t.setMilliseconds(0),this.#l=t.toISOString())}get hasContent(){return this.#d.length>0}get contentCount(){return this.#d.length}getContent(e){if(e<0||e>=this.#d.length)throw RangeError("Index out of bounds");return this.#d[e]}forEachContent(e){this.#d.forEach(e)}addContent(e){if(Array.isArray(e)){let t=null;return e.forEach((e=>{t=this.addContent(e)})),t}return this.#h(e)}#h(e){if(!(e instanceof v))throw Error("item is not a valid content");if(null!=e.note)throw Error("item is already part of another note");return e.__setNote(this),this.#d.push(e),e}removeContentById(e){const t=this.#d.findIndex((t=>t.id===e));t<0||this.removeContent(t)}removeContent(e){if(e<0||e>=this.#d.length)throw new RangeError("Index out of bounds");this.#d[e].__setNote(null),this.#d.splice(e,1)}hasChecklists(){for(let e=0;e<this.#d.length;e++)if(this.#d[e]instanceof C)return!0;return!1}getChecklistsCompletion(){let e=0,t=0;return this.#d.forEach((n=>{n instanceof C&&(e+=n.count,t+=n.completed)})),{total:e,completed:t}}serialize(){return{id:this.#e,title:this.title,description:this.description,priority:this.priority,dueDate:this.#l,done:this.#c,contents:this.#d.map((e=>e.serialize()))}}static deserialize(e){let t=new tt({title:e.title,description:e.description,priority:e.priority});return t.#e=e.id,t.#c=e.done,t.#l=e.dueDate,Array.isArray(e.contents)&&(t.#d=e.contents.map((e=>function(e){switch(e.type){case M.getType():return M.deserialize(e);case C.getType():return C.deserialize(e)}return console.error(`Invalid contenxt type "${e.type}"`),null}(e))).filter((e=>null!==e)),t.#d.forEach((e=>e.__setNote(t)))),t}save(){null!=this.#s&&this.#s.save()}}const nt="home";class rt{#e=null;#p=0;#m=[];static CreateDefaultProject(){let e=new rt("🏠 home",nt);return e.__setOrder(-1),e}constructor(e,t=null){this.#e=null==t?x():String(t),this.name=e}static getType(){return"Project"}get type(){return rt.getType()}get id(){return this.#e}get order(){return this.#p}get isDefaultProject(){return this.id===nt}get hasNotes(){return this.#m.length>0}get noteCount(){return this.#m.length}__setOrder(e){this.#p=e}getNoteById(e){return this.#m.find((t=>t.id===e))}getNote(e){return this.#m[e]}forEachNote(e){this.#m.forEach(e)}addNote(e){if(Array.isArray(e)){let t=null;return e.forEach((e=>{t=this.#f(e)})),t}return this.#f(e)}#f(e){if(!(e instanceof tt))throw Error("item is not a valid ToDo");if(null!=e.project)throw Error("item was already added to other project");return e.__setProject(this),this.#m.push(e),e}removeNoteById(e){const t=this.#m.findIndex((t=>t.id===e));t<0||this.removeNote(t)}removeNote(e){if(e<0||e>=this.#m.length)throw new RangeError("Index out of bounds");this.#m[e].__setProject(null),this.#m.splice(e,1)}serialize(){return{id:this.#e,order:this.#p,name:this.name,notes:this.#m.map((e=>e.serialize()))}}static deserialize(e){let t=new rt(e.name,e.id);return t.#p=e.order,Array.isArray(e.notes)&&(t.#m=e.notes.map((e=>tt.deserialize(e))),t.#m.forEach((e=>e.__setProject(t)))),t}save(){localStorage.setItem(this.id,JSON.stringify(this.serialize()))}removeSave(){localStorage.removeItem(this.id)}static load(e){return localStorage.key(e)?this.deserialize(JSON.parse(localStorage.getItem(e))):null}}class ot{#g=[];#y=0;constructor(){}static getType(){return"Library"}get type(){return ot.getType()}get hasProjects(){return this.#g.length>0}get projectCount(){return this.#g.length}getProject(e){return this.#g[e]}getProjectById(e){return this.#g.find((t=>t.id===e))}getDefaultProject(){return this.getProjectById(nt)}forEachProject(e){this.#g.forEach(e)}addProject(e){if(Array.isArray(e)){let t=null;return e.forEach((e=>{t=this.#w(e)})),t}return this.#w(e)}#w(e){if(!(e instanceof rt))throw Error("item is not a valid project");return(null==e.order||e.order>=0)&&e.__setOrder(this.#y++),this.#g.push(e),e}removeProjectById(e,t=!1){const n=this.#g.findIndex((t=>t.id===e));n<0||this.removeProject(n,t)}removeProject(e,t=!1){if(e<0||e>=this.#g.length)throw new RangeError("Index out of bounds");!this.#g[e].isDefaultProject||t?this.#g.splice(e,1):console.error("Default project can not be removed")}getProjectNoteById(e,t){return this.getProjectById(e)?.getNoteById(t)}forEachProjectNote(e){this.forEachProject((t=>{t.forEachNote((n=>{e(t,n)}))}))}removeProjectNoteById(e,t){this.getProjectById(e)?.removeNoteById(t)}save(){this.forEachProject((e=>{e.save()}))}load(){const e=this.getProjectById(nt);this.#g=[e];for(let e=0;e<localStorage.length;e++){const t=localStorage.key(e);if(t===y)continue;t===nt&&this.removeProjectById(nt,!0);const n=rt.load(t);null!=n&&this.#g.push(n)}this.#y=1+this.#g.reduce(((e,t)=>e>=t.order?e:t.order),0),this.#y=Math.max(0,this.#y),this.#g.sort(((e,t)=>e.order<t.order?-1:e.order>t.order?1:NaN))}}class it{static#n=[{id:"search-all",label:"all"},{id:"search-today",label:"today"},{id:"search-week",label:"this week"}];constructor({title:e="search"}={}){this.title=e}static getType(){return"SearchMenu"}get type(){return it.getType()}forEachItem(e){it.#n.forEach((t=>{e(t)}))}}class at{#b=null;#x=null;constructor(e=null,t=null){this.setWrapper(e),this.setSettings(t)}get hasWrapper(){return null!=this.wrapper}get wrapper(){return this.#b}get hasSettings(){return null!=this.settings&&"object"==typeof this.settings}get settings(){return this.#x}setWrapper(e){if("object"!=typeof e)throw TypeError("Wrapper must be an object or null");this.#b=e}setSettings(e){if("object"!=typeof e)throw TypeError("Settings must be an object or null");this.#x=e}getSettingsParam(e,t=null){return this.hasSettings&&e in this.#x?this.#x[e]:t}cloneWithNewSettings(e){return new at(this.#b,e)}}class st{#v=[];addProcessor(e){this.#v.push(e)}renderAppend(e,t){if(null==e||"object"!=typeof e)return;const n=e.type;this.#v.forEach((r=>{if(r.getTargetType()===n)return console.log("Render"),r.render(this,t,e)}))}renderReplace(e,t){const n=new at(document.createDocumentFragment(),t.settings);this.renderAppend(e,n),t.wrapper.replaceWith(n.wrapper)}renderReplaceChildren(e,t){const n=new at(document.createDocumentFragment(),t.settings);this.renderAppend(e,n),t.wrapper.replaceChildren(n.wrapper)}renderReturn(e,t){const n=new at(document.createDocumentFragment(),t.settings);return this.renderAppend(e,n),n.wrapper}}class ct{constructor(e=null){this.controller=e}getTargetType(){throw Error("Not implemented")}render(e,t,n){}}function lt(e={title:"add"}){const[t,n,r]=wt(e);return` \n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="${n}" height="${r}">\n    <title>${t}</title>\n    <path d="M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z" />\n</svg>`}function dt(e={title:"details"}){const[t,n,r]=wt(e);return` \n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="${n}" height="${r}">\n    <title>${t}</title>\n    <path d="M12 4.5C7 4.5 2.7 7.6 1 12C2.7 16.4 7 19.5 12 19.5H13.1C13 19.2 13 18.9 13 18.5C13 18.1 13 17.8 13.1 17.4C12.7 17.4 12.4 17.5 12 17.5C8.2 17.5 4.8 15.4 3.2 12C4.8 8.6 8.2 6.5 12 6.5S19.2 8.6 20.8 12C20.7 12.2 20.5 12.4 20.4 12.7C21.1 12.9 21.7 13.1 22.3 13.5C22.6 13 22.8 12.5 23 12C21.3 7.6 17 4.5 12 4.5M12 9C10.3 9 9 10.3 9 12S10.3 15 12 15 15 13.7 15 12 13.7 9 12 9M19 21V19H15V17H19V15L22 18L19 21" />\n</svg>`}function ut(e={title:"confirm"}){return function(e={title:"check"}){const[t,n,r]=wt(e);return`\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="${n}" height="${r}">\n    <title>${t}</title>\n    <path d="M9,20.42L2.79,14.21L5.62,11.38L9,14.77L18.88,4.88L21.71,7.71L9,20.42Z" />\n</svg>`}(e)}function ht(e={title:"cancel"}){return function(e={title:"close"}){const[t,n,r]=wt(e);return`\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="${n}" height="${r}">\n    <title>${t}</title>\n    <path d="M20 6.91L17.09 4L12 9.09L6.91 4L4 6.91L9.09 12L4 17.09L6.91 20L12 14.91L17.09 20L20 17.09L14.91 12L20 6.91Z" />\n</svg>`}(e)}function pt(e={title:"checkbox"}){const[t,n,r]=wt(e);return`\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="${n}" height="${r}">\n    <title>${t}</title>\n    <path d="M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z" />\n</svg>`}function mt(e={title:"checkbox marked"}){const[t,n,r]=wt(e);return`\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="${n}" height="${r}">\n    <title>${t}</title>\n    <path d="M19,19H5V5H15V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V11H19M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z" />\n</svg>`}function ft(e={title:"list"}){const[t,n,r]=wt(e);return`\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="${n}" height="${r}">\n    <title>${t}</title>\n    <path d="M 3,3 V 6.0546875 H 21 V 3 Z M 3,7.9824219 V 11.035156 H 21 V 7.9824219 Z m 0,4.9824221 v 3.052734 h 18 v -3.052734 z m 0,4.980468 V 21 h 18 v -3.054688 z" />\n</svg>`}function gt(e={title:"grid"}){const[t,n,r]=wt(e);return`\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="${n}" height="${r}">\n    <title>${t}</title>\n    <path d="M3,11H11V3H3M3,21H11V13H3M13,21H21V13H13M13,3V11H21V3" />\n</svg>`}function yt(e={title:"grid"}){const[t,n,r]=wt(e);return`\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="${n}" height="${r}">\n    <title>${t}</title>\n    <path d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" />\n</svg>`}function wt(e){let t=["title",24,24];return null==e||("title"in e&&(t[0]=e.title),"w"in e&&(t[1]=e.w),"h"in e&&(t[2]=e.h)),t}function bt(e={}){return e.level=2,xt(e)}function xt(e={}){e.level=e.level??3;const t=document.createElement(`h${e.level}`);return Lt(t,e),"text"in e&&(t.textContent=e.text),t}function vt(e={}){const t=document.createElement("p");return Lt(t,e),"text"in e&&(t.textContent=e.text),t}function kt(e={}){const t=document.createElement("span");return Lt(t,e),"text"in e&&(t.textContent=e.text),t}function Ct(e={}){const t=document.createElement("em");return Lt(t,e),"text"in e&&(t.textContent=e.text),t}function Dt(e={}){const t=document.createElement("section");return Lt(t,e),t}function St(e={}){const t=document.createElement("div");return Lt(t,e),"text"in e&&(t.textContent=e.text),t}function Mt(e={}){const t=document.createElement("ul");return Lt(t,e),"content"in e&&qt(t,e.content,(()=>jt())),t}function jt(e={}){const t=document.createElement("li");return Lt(t,e),t}function Tt(e={}){return e.text=e.text??"add",e.class=[].concat(e.class??[],"button-add"),Nt(e,lt),Ft(e)}function Pt(e={}){return e.text=e.text??"confirm",e.class=[].concat(e.class??[],"button-confirm"),Nt(e,ut),Ft(e)}function It(e={}){return e.text=e.text??"cancel",e.class=[].concat(e.class??[],"button-cancel"),Nt(e,ht),Ft(e)}function Et(e={}){return e.text=e.text??"delete",e.class=[].concat(e.class??[],"delete","link","button-delete"),Nt(e,yt),Ft(e)}function Nt(e,t){e.mode=e.mode??"full","text"===e?.mode&&delete e.svg,"icon"===e?.mode&&(delete e.text,e.svg=t()),"full"===e?.mode&&(e.svg=t())}function Ft(e={}){const t=document.createElement("button");return Lt(t,e),"type"in e&&(t.type=e.type),"svg"in e&&("function"==typeof e.svg?t.innerHTML=e.svg():t.innerHTML=e.svg),"text"in e&&t.append(e.text),t}function Lt(e,t){"id"in t&&(e.id=t.id),"class"in t&&(Array.isArray(t.class)?t.class.forEach((t=>{Bt(e,t)})):Bt(e,t.class)),"data"in t&&Object.keys(t.data).forEach((n=>{e.dataset[n]=t.data[n]}))}function Ht(e){let t=[];return e.split("\n").forEach((e=>{const n=document.createElement("p");n.textContent=e,t.push(n)})),t}function qt(e,t,n=null){Array.isArray(t)?t.forEach((t=>{At(e,t,n)})):At(e,t,n)}function At(e,t,n=null){if(null!=n){const r=n(),o=t(r);r.append(o),e.append(r)}else{const n=t(e);e.append(n)}}function Bt(e,t){"string"==typeof t&&""!==t.trim()&&e.classList.add(t)}function Rt(e={}){const t=document.createElement("label");return"text"in e&&(t.textContent=e.text),"for"in e&&(t.htmlFor=e.for),t}function Ot(e,t){if("label"in t&&("before"===t.label||"after"===t.label)){const n={text:t.text??""};switch("id"in t&&(n.for=t.id),t.label){case"before":e.prepend(Rt(n));break;case"after":e.append(Rt(n));break;default:console.warn("Invalid value for 'label' setting:",t.label)}}}function Wt(e={}){return e.type="text",zt(e)}function zt(e={}){const t=document.createDocumentFragment(),n=document.createElement("input");return Lt(n,e),_t(n,e),"type"in e&&(n.type=e.type,"checkbox"===e.type&&e?.checked&&(n.checked=!0)),"placeholder"in e&&(n.placeholder=e.placeholder),"value"in e&&(n.value=e.value),t.append(n),Ot(t,e),t}function Yt(e={}){const t=document.createDocumentFragment(),n=document.createElement("textarea");return Lt(n,e),_t(n,e),"placeholder"in e&&(n.placeholder=e.placeholder),"value"in e&&(n.value=e.value),"rows"in e&&(n.rows=e.rows),"cols"in e&&(n.cols=e.cols),t.append(n),Ot(t,e),t}function _t(e,t){"name"in t?e.name=t.name:"id"in t&&(e.name=t.id),"required"in t&&(e.required=Boolean(t.required))}function $t(e,t={}){let n=null;return"index"in t&&(n=e.getProject(t.index)),null==n?null:Ft({class:["library-project-button","link"],text:n.name,data:{id:n.id}})}class Vt extends ct{constructor(e=null){super(e)}getTargetType(){return ot.getType()}render(e,t,n){if(t&&t.hasWrapper)switch(t.getSettingsParam("mode","list")){case"project":{const r=this.#k(t);if(null==r)return void console.error("No project id");null==t.settings.settings&&(t.settings.settings={mode:"list"}),e.renderAppend(n.getProjectById(r),t.cloneWithNewSettings(t.settings.settings))}break;case"note":{const r=this.#C(t);if(null==r)return void console.error("No project or note id");e.renderAppend(n.getProjectNoteById(r[0],r[1]),t.cloneWithNewSettings(t.settings.settings))}break;default:{const r=this.createList(e,t,n);this.controller.handleObjectRendered(this,n,t,r),t.wrapper.appendChild(r)}}}createList(e,t,n){let r={title:"projects"};const o=t.getSettingsParam("id");return null!=o&&(r.id=o),function(e,t={}){const n=document.createDocumentFragment(),r=St({class:"library-projects"});"id"in t&&(r.id=t.id),"title"in t&&r.append(bt({text:t.title}));const o=function(e,t={}){const n=document.createDocumentFragment(),r=St({class:["library-project-list","list-wrapper"]});if(!("content"in t)){let n=[];for(let t=0;t<e.projectCount;t++)n.push((()=>$t(e,{index:t})));t.content=n}const o=Mt(t);return r.append(o),n.append(r),n}(e,t),i=Tt({class:"libray-add-project-button",text:"add project"});return r.append(o),r.append(i),n.append(r),n}(n,r)}#k(e){const t=e.getSettingsParam("id");return null==t?null:Array.isArray(t)?String(t[0]):String(t)}#C(e){const t=e.getSettingsParam("id");return null==t||!Array.isArray(t)||t.length<2?null:[String(t[0]),String(t[1])]}}function Gt(e,t={}){const n=document.createDocumentFragment(),r=St({class:"project"});return"content"in t&&qt(r,t.content),n.append(r),n}function Qt(e,t={}){const n=document.createDocumentFragment(),r=St({class:t.class??""});return"content"in t&&qt(r,t.content),n.appendChild(r),n}function Xt(e,t={}){const n=document.createDocumentFragment(),r=St({class:"project-empty"});return r.innerHTML="This project is empty &#128577;, click <span>Add Note</span> to create a new note.",n.append(r),n}class Zt extends ct{constructor(e=null){super(e)}getTargetType(){return rt.getType()}render(e,t,n){if(!t||!t.hasWrapper)return;const r=t.getSettingsParam("mode",this.controller.app.projectMode),o=t.getSettingsParam("partial");if(null!=o){let e=null;return"add-note"===o&&(e=function(){const e=document.createDocumentFragment(),t=St({class:"notes-add-form"}),n=Wt({id:"new-note-name",placeholder:"project name",required:!0}),r=Pt(),o=It();return t.appendChild(n),t.appendChild(r),t.appendChild(o),e.append(t),e}()),null!=e?(this.controller.handlePartialRendered(this,n,t,o,e),void t.wrapper.appendChild(e)):void console.error(`Invalid partial "${o}"`)}if("list"===r){const r=this.createList(e,t,n);this.controller.handleObjectRendered(this,n,t,r),t.wrapper.appendChild(r)}else{const r=this.createGrid(e,t,n);this.controller.handleObjectRendered(this,n,t,r),t.wrapper.appendChild(r)}}createTitle(e){return function(e){const t=document.createDocumentFragment(),n=St({class:"project-title"}),r=bt({text:e.name});return n.appendChild(r),t.appendChild(n),t}(e)}createMenu(e){return function(e){const t=document.createDocumentFragment(),n=function(e={}){const t=document.createElement("nav");return Lt(t,e),t}({class:"project-menu"}),r=St({class:"project-menu-left"}),o=St({class:"project-menu-right"}),i=Tt({text:"add note",class:"project-button-add",data:{id:e.id}}),a=function(e={}){return e.class=[].concat(e.class??[],"button-list"),Nt(e,ft),Ft(e)}({class:["project-button-list","link"]}),s=function(e={}){return e.class=[].concat(e.class??[],"button-grid"),Nt(e,gt),Ft(e)}({class:["project-button-grid","link"]});return r.append(i),o.append(a),o.append(s),n.appendChild(r),n.appendChild(o),t.appendChild(n),t}(e)}createFooter(e){return function(e){const t=document.createDocumentFragment(),n=St({class:"project-footer"});if(!e.isDefaultProject){const t=Ft({class:["delete","link","project-delete-button"],text:"delete project",svg:yt,data:{id:e.id}});n.append(t)}return t.append(n),t}(e)}createList(e,t,n){return Gt(0,{content:[()=>this.createTitle(n),()=>this.createMenu(n),()=>this.createListContent(e,n),()=>this.createFooter(n)]})}createListContent(e,t){if(!t.hasNotes)return Xt();let n=[];return t.forEachNote((t=>{n.push((n=>e.renderReturn(t,new at(n,{mode:"item"}))))})),function(e,t={}){return t.class=[].concat("project-list",t.class??""),Qt(0,t)}(0,{content:n})}createGrid(e,t,n){return Gt(0,{content:[()=>this.createTitle(n),()=>this.createMenu(n),()=>this.createGridContent(e,n),()=>this.createFooter(n)]})}createGridContent(e,t){if(!t.hasNotes)return Xt();let n=[];return t.forEachNote((t=>{n.push((n=>e.renderReturn(t,new at(n,{mode:"card"}))))})),function(e,t={}){return t.class=[].concat("project-grid",t.class??""),Qt(0,t)}(0,{content:n})}}function Jt(e,t){const n=J(e,t?.in);return n.setHours(0,0,0,0),n}function Ut(e,t){const n=J(e,t?.in);return function(e,t,n){const[r,o]=function(e,...t){const n=Q.bind(null,e||t.find((e=>"object"==typeof e)));return t.map(n)}(n?.in,e,t),i=Jt(r),a=Jt(o),s=+i-Ve(i),c=+a-Ve(a);return Math.round((s-c)/864e5)}(n,function(e,t){const n=J(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}(n))+1}function Kt(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const en={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Kt("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):Kt(n+1,2)},d:(e,t)=>Kt(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>Kt(e.getHours()%12||12,t.length),H:(e,t)=>Kt(e.getHours(),t.length),m:(e,t)=>Kt(e.getMinutes(),t.length),s:(e,t)=>Kt(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return Kt(Math.trunc(r*Math.pow(10,n-3)),t.length)}},tn={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return en.y(e,t)},Y:function(e,t,n,r){const o=qe(e,r),i=o>0?o:1-o;return"YY"===t?Kt(i%100,2):"Yo"===t?n.ordinalNumber(i,{unit:"year"}):Kt(i,t.length)},R:function(e,t){return Kt(Re(e),t.length)},u:function(e,t){return Kt(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Kt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Kt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return en.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Kt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const o=Be(e,r);return"wo"===t?n.ordinalNumber(o,{unit:"week"}):Kt(o,t.length)},I:function(e,t,n){const r=Oe(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Kt(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):en.d(e,t)},D:function(e,t,n){const r=Ut(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Kt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const o=e.getDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Kt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const o=e.getDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Kt(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),o=0===r?7:r;switch(t){case"i":return String(o);case"ii":return Kt(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let o;switch(o=12===r?"noon":0===r?"midnight":r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let o;switch(o=r>=17?"evening":r>=12?"afternoon":r>=4?"morning":"night",t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return en.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):en.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Kt(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Kt(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):en.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):en.s(e,t)},S:function(e,t){return en.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return rn(r);case"XXXX":case"XX":return on(r);default:return on(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return rn(r);case"xxxx":case"xx":return on(r);default:return on(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+nn(r,":");default:return"GMT"+on(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+nn(r,":");default:return"GMT"+on(r,":")}},t:function(e,t,n){return Kt(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return Kt(+e,t.length)}};function nn(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=Math.trunc(r/60),i=r%60;return 0===i?n+String(o):n+String(o)+t+Kt(i,2)}function rn(e,t){return e%60==0?(e>0?"-":"+")+Kt(Math.abs(e)/60,2):on(e,t)}function on(e,t=""){const n=e>0?"-":"+",r=Math.abs(e);return n+Kt(Math.trunc(r/60),2)+t+Kt(r%60,2)}function an(e){return!(!((t=e)instanceof Date||"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t))&&"number"!=typeof e||isNaN(+J(e)));var t}const sn=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cn=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ln=/^'([^]*?)'?$/,dn=/''/g,un=/[a-zA-Z]/;function hn(e,t,n){const r=Z(),o=n?.locale??r.locale??q,i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=J(e,n?.in);if(!an(s))throw new RangeError("Invalid time value");let c=t.match(cn).map((e=>{const t=e[0];return"p"===t||"P"===t?(0,R[t])(e,o.formatLong):e})).join("").match(sn).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:pn(e)};if(tn[t])return{isToken:!0,value:e};if(t.match(un))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));o.localize.preprocessor&&(c=o.localize.preprocessor(s,c));const l={firstWeekContainsDate:i,weekStartsOn:a,locale:o};return c.map((r=>{if(!r.isToken)return r.value;const i=r.value;return(!n?.useAdditionalWeekYearTokens&&_(i)||!n?.useAdditionalDayOfYearTokens&&Y(i))&&$(i,t,String(e)),(0,tn[i[0]])(s,i,o.localize,l)})).join("")}function pn(e){const t=e.match(ln);return t?t[1].replace(dn,"'"):e}function mn(e,t={}){const n=document.createDocumentFragment(),r=function(e={}){const t=document.createElement("article");return Lt(t,e),t}({class:[].concat("note",t.class??[],e.isDone?"note-done":"")}),o=function(e){const t=e(r);null!=t&&r.append(t)};return"content"in t&&(Array.isArray(t.content)?t.content.forEach((e=>{o(e)})):o(t.content)),n.append(r),n}function fn(e,t={}){const n=t.mode??"card",r=(t.details,document.createDocumentFragment()),o=St({class:"note-title-wrapper"}),i=function(e={}){return e.level=3,xt(e)}({class:"note-title",text:e.title});if(o.append(i),"item"===n&&e.hasChecklists()){const{total:t,completed:n}=e.getChecklistsCompletion(),r=kt({class:"note-title-progress",text:`${n}/${t}`}),i=kt();i.innerHTML=mt({w:14,h:14}),o.append(r),o.append(i)}return r.append(o),r}function gn(e,t={}){const n=document.createDocumentFragment(),r=St({class:"note-priority"}),o=kt({class:["priority",`priority-${b(e.priority)}`],text:b(e.priority)});return r.appendChild(o),n.appendChild(r),n}function yn(e,t={}){const n=t.details??!1,r=null!=e.dueDate,o=document.createDocumentFragment(),i=t.format??!1;if(r){const t=St({class:"note-due-date",text:null===e.dueDate?"none":hn(e.dueDate,i?"🕑 P - p":"🕑 PP - p")});o.appendChild(t)}else if(n){const e=St({class:["note-due-date","note-empty-field"],text:"Set a due date…"});o.appendChild(e)}return o.hasChildNodes()?o:null}class wn extends ct{constructor(e=null){super(e)}getTargetType(){return tt.getType()}render(e,t,n){if(!t||!t.hasWrapper)return;const r=t.getSettingsParam("mode","card"),o=t.getSettingsParam("partial"),i=this.#D(t);if(null!=o){let r=null;switch(o){case"title":r=fn(n,{details:i});break;case"title-form":r=function(e){const t=document.createDocumentFragment(),n=St({class:"note-title-edit-form"}),r=Wt({id:"note-title",value:e.title,required:!0}),o=Pt(),i=It();return n.appendChild(r),n.appendChild(o),n.appendChild(i),t.append(n),t}(n);break;case"description":r=this.createDescription(e,t,n);break;case"description-form":r=function(e,t={}){const n=Math.min(8,Math.max(4,S(e.description))),r=document.createDocumentFragment(),o=St({class:"note-desc-edit-form"}),i=Yt({id:"note-desc",value:e.description,rows:t?.rows??n,required:!0}),a=St({class:"note-desc-controls"}),s=Pt({mode:"full"}),c=It({mode:"full"});return o.appendChild(i),a.appendChild(s),a.appendChild(c),o.appendChild(a),r.append(o),r}(n);break;case"content":r=this.createContent(e,t,n);break;case"metadata":r=this.createMetadata(e,t,n);break;case"priority":r=gn(n,{details:i});break;case"priority-form":r=function(e){let t=[];Object.values(w).forEach((n=>{let r={value:n,text:b(n)};e.priority===n&&(r.selected=!0),t.push(r)}));const n=document.createDocumentFragment(),r=St({class:"note-priority-edit-form"}),o=function(e={}){const t=document.createDocumentFragment(),n=document.createElement("select");return Lt(n,e),_t(n,e),"size"in e&&(n.size,e.size),"options"in e&&(Array.isArray(e.options)?e.options:[e.options]).forEach((t=>{const r=document.createElement("option");"string"==typeof t?(r.value=t,r.textContent=t):"object"==typeof t&&("value"in t&&(r.value=t.value,r.textContent=t.value),"text"in t&&(r.textContent=t.text),"selected"in t&&t.selected&&(r.selected=!0),"autoclass"in e&&("text"===e.autoclass?"text"in t&&r.classList.add(`option-${t.text}`):"value"in t&&r.classList.add(`option-${t.value}`))),n.appendChild(r)})),t.append(n),Ot(t,e),t}({id:"note-priority",options:t,autoclass:!0,required:!0}),i=Pt({mode:"icon"}),a=It({mode:"icon"});return r.appendChild(o),r.appendChild(i),r.appendChild(a),n.append(r),n}(n);break;case"dueDate":r=yn(n,{details:i});break;case"dueDate-form":r=function(e){const t=document.createDocumentFragment(),n=St({class:"note-date-edit-form"}),r=zt({type:"datetime-local",id:"note-date",required:!0}),o=Pt({mode:"icon"}),i=It({mode:"icon"});if(null!=e.dueDate)r.getElementById("note-date").value=hn(new Date(e.dueDate),"yyyy-MM-dd'T'HH:mm");else{let e=new Date;e.setHours(23,59),r.getElementById("note-date").value=hn(e,"yyyy-MM-dd'T'HH:mm")}return n.appendChild(r),n.appendChild(o),n.appendChild(i),t.append(n),t}(n)}return null!=r?(this.controller.handlePartialRendered(this,n,t,o,r),void t.wrapper.appendChild(r)):void console.error(`Invalid partial "${o}"`)}if("item"===r){const r=this.createItem(e,t,n);this.controller.handleObjectRendered(this,n,t,r),t.wrapper.appendChild(r)}else{const r=this.createCard(e,t,n);this.controller.handleObjectRendered(this,n,t,r),t.wrapper.appendChild(r)}}createItem(e,t,n){return this.#D(t),mn(n,{class:"note-item",content:[()=>this.createTitle(e,t,n),()=>this.createMetadata(e,t,n)]})}createCard(e,t,n){const r=this.#D(t),o=mn(n,{class:"note-card",content:[()=>this.createTitle(e,t,n),()=>this.createDescription(e,t,n),()=>this.createContent(e,t,n),()=>this.createMetadata(e,t,n)]});return r&&o.appendChild(function(){const e=document.createDocumentFragment(),t=St({class:"note-footer"});return t.innerHTML=function(e={title:"information"}){const[t,n,r]=wt(e);return`\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="${n}" height="${r}">\n    <title>${t}</title>\n    <path d="M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z" />\n</svg>`}(),t.append("Click any field to edit it directly."),e.append(t),e}()),o}createTitle(e,t,n){return function(e,t={}){const n=t.details??!1,r=document.createDocumentFragment(),o=Dt({class:"note-header"}),i=St({class:"note-buttons"}),a=fn(e,t),s=function(e){const t=document.createDocumentFragment(),n=Ft({class:["button-done","link"],svg:e.isDone?mt:pt,data:{project:e.projectId,id:e.id}});return n.updateDoneIcon=function(e){this.innerHTML=e?mt():pt()}.bind(n),t.append(n),t}(e);if(i.appendChild(s),o.appendChild(i),o.appendChild(a),n){const t=St({class:"note-delete"}),n=Ft({class:["delete","link","note-delete-button"],text:"delete",svg:yt,data:{project:e.projectId,id:e.id}});t.appendChild(n),o.appendChild(t)}return r.append(o),r}(n,{mode:t.getSettingsParam("mode","card"),details:this.#D(t)})}createDescription(e,t,n){return function(e,t={}){const n=t.details??!1,r=""!=e.description,o=document.createDocumentFragment(),i=Dt({class:"note-description"});if(r){const t=St({class:"note-description-text"});t.append(...Ht(e.description)),i.appendChild(t)}else if(n){const e=St({class:["note-description-text","note-empty-desc"],text:"Add a detailed description…"});i.appendChild(e)}if(!n){if(e.hasChecklists()){const t=function(e={}){const t=e.completed??0,n=e.total??1,r=Math.round(t/n*100),o=document.createDocumentFragment(),i=St({class:"note-progress"}),a=St({class:"progress-label",text:"Progress"}),s=St({class:"progress-completion",text:`${t}/${n}`}),c=St({class:"progress-border"}),l=St({class:"progress-bar"});return l.style.width=r.toString()+"%",c.append(l),i.append(a),i.append(c),i.append(s),o.append(i),o}(e.getChecklistsCompletion());i.append(t)}const t=St({class:"see-more"}),n=Ft({class:["button-details","link"],text:"details/edit",svg:dt,data:{project:e.projectId,id:e.id}});t.appendChild(n),i.appendChild(t)}return o.appendChild(i),o}(n,{details:this.#D(t)})}createContent(e,t,n){const r=this.#D(t);if(!r)return null;let o=[];return n.forEachContent((t=>{o.push((n=>e.renderReturn(t,new at(n,null))))})),function(e,t={}){const n=t.details??!1,r=document.createDocumentFragment(),o=Dt({class:["note-content"]});if(qt(o,t.content),r.append(o),n){const e=St({class:"note-controls"}),t=Tt({class:"button-add-text",text:"Add text"}),n=Tt({class:"button-add-checklist",text:"Add checklist"});return e.appendChild(t),e.appendChild(n),r.append(e),r}return r}(0,{content:o,details:r})}createMetadata(e,t,n){const r=function(e,t={}){t.details,e.dueDate;const n=document.createDocumentFragment(),r=Dt({class:"note-meta"}),o=gn(e,t),i=yn(e,t);return null!=o&&r.append(o),null!=i&&r.append(i),n.append(r),n}(n,{details:this.#D(t)});return r}#D(e){return"details"===e.getSettingsParam("mode","card")}}function bn(e={}){const t=document.createDocumentFragment(),n=document.createElement("dialog"),r=xn(e);if(e.class=[].concat(e.class??[],"delete-dialog"),Lt(n,e),"title"in e){const t=bt({text:e.title});n.append(t)}if("text"in e){const t=vt();t.append("Are you sure you want to delete ",kt({text:e.text}),"? ",Ct({text:"This action cannot be undone."})),n.append(t)}return"open"in e&&e.open&&(n.open=!0),n.append(r),t.append(n),t}function xn(e={}){const t=document.createDocumentFragment(),n=St({class:"controls"}),r=Pt(),o=It();return n.appendChild(r),n.appendChild(o),t.append(n),t}function vn(e,t={}){const n=document.createDocumentFragment(),r=St({class:"text-block-edit-form"}),o=Yt({name:"text-block-text",value:e.text,rows:t?.rows??4,required:!0}),i=St({class:"text-block-controls"}),a=Pt({mode:"full"}),s=It({mode:"full"}),c=Et({mode:"full"});return r.appendChild(o),i.appendChild(a),i.appendChild(s),i.appendChild(c),r.appendChild(i),n.append(r),n}function kn(e={}){return"id"in e||(e.id="text-block-delete-dialog"),"title"in e||(e.title="confirm text block deletion"),e.text="text block",bn(e)}class Cn extends ct{constructor(e=null){super(e)}getTargetType(){return M.getType()}render(e,t,n){if(!t||!t.hasWrapper)return;const r=t.getSettingsParam("mode","default"),o=t.getSettingsParam("partial");if(null!=o){let e=null;return"form"===o&&(e=vn(n,{rows:Math.min(8,Math.max(4,n.lineCount))})),null!=e?(this.controller.handlePartialRendered(this,n,t,o,e),void t.wrapper.append(e)):void console.error(`Invalid partial "${o}"`)}if("new"===r){const e=vn(n);this.controller.handleObjectRendered(this,n,t,e),t.wrapper.appendChild(e)}else{const e=function(e,t={}){const n=document.createDocumentFragment(),r=St({class:[].concat("text-block",t.class??[])}),o=Ht(e.text);return r.append(...o),n.append(r),n}(n);this.controller.handleObjectRendered(this,n,t,e),t.wrapper.appendChild(e)}}}function Dn(e,t={}){const n=document.createDocumentFragment(),r=St({class:"checklist-item",data:{id:e.id}}),o=St({class:"checklist-input"});if(!t?.editform){const t=function(e={}){return e.type="checkbox",zt(e)}({checked:e.checked,label:"after",text:e.text});o.append(t)}if(r.append(o),t?.editform){const n=Mn(e,t);r.append(n)}else{const n=Sn(e,t);r.append(n)}if(t?.listitem){const e=jt();e.append(r),n.append(e)}else n.append(r);return n}function Sn(e,t={}){const n=St({class:"checklist-text"});return n.append(...Ht(e.text)),n}function Mn(e,t={}){const n=document.createDocumentFragment(),r=St({class:"checklist-item-edit-form"}),o=zt({type:"text",name:"checklist-item-text",value:e.text,required:!0}),i=St({class:"checklist-item-controls"}),a=Pt({mode:"full"}),s=It({mode:"full"});return r.appendChild(o),i.appendChild(a),i.appendChild(s),t.noremove||i.appendChild(Et({mode:"full"})),r.appendChild(i),n.append(r),n}function jn(e={}){return"id"in e||(e.id="checklist-item-delete-dialog"),"title"in e||(e.title="confirm check list item deletion"),e.text="check list item",bn(e)}function Tn(e={}){return"id"in e||(e.id="checklist-delete-dialog"),"title"in e||(e.title="confirm check list deletion"),e.text="check list",bn(e)}class Pn extends ct{constructor(e=null){super(e)}getTargetType(){return C.getType()}render(e,t,n){if(null==t?.wrapper)return;t.getSettingsParam("mode","default");const r=t.getSettingsParam("partial"),o=t.getSettingsParam("id");if(null!=r){if("new"!==r&&null===o)return void console.error("Invalid item id");let e=null;switch(r){case"new":e=this.createNewItem(t,n);break;case"item":e=this.createItem(t,n,o);break;case"item-text":e=Sn(n.getById(o));break;case"item-form":e=Mn(n.getById(o))}return null!=e?(this.controller.handlePartialRendered(this,n,t,r,e),void t.wrapper.append(e)):void console.error(`Invalid partial "${r}"`)}{const e=this.createList(n);this.controller.handleObjectRendered(this,n,t,e),t.wrapper.appendChild(e)}}createList(e){return function(e,t={}){const n=document.createDocumentFragment(),r=St({id:`checklist-${e.id}`,class:[].concat("checklist",t.class??[])}),o=[];for(let n=0;n<e.count;n++)o.push((()=>Dn(e.get(n),t)));const i=Mt({content:o}),a=St({class:"checklist-controls"}),s=Tt({text:"Add item",class:"link"}),c=Et({mode:"full"});return a.append(s),a.append(c),r.append(i),r.append(a),n.append(r),n}(e,{name:e.id})}createNewItem(e,t){return e.settings.editform=!0,e.settings.listitem=!0,e.settings.noremove=!0,this.createItem(e,t,null)}createItem(e,t,n){let r,o={name:t.id};return e.getSettingsParam("editform",!1)&&(o.editform=!0),e.getSettingsParam("listitem",!1)&&(o.listitem=!0),e.getSettingsParam("noremove",!1)&&(o.noremove=!0),r=null==n?{id:-1,text:"",checked:!1}:t.getById(n),Dn(r,o)}}function In(e,t){const n=+J(e)-+J(t);return n<0?-1:n>0?1:n}class En{#S=null;#M=null;constructor({title:e="",begDate:t=null,endDate:n=null}={}){if(null!==t&&!(t instanceof Date))throw new TypeError("begDate must be a Date object or null");if(null!==n&&!(n instanceof Date))throw new TypeError("endDate must be a Date object or null");this.title=e,this.#S=t?new Date(t):null,this.#M=n?new Date(n):null,this.#S?.setHours(0,0,0,0),this.#M?.setHours(23,59,59,0)}static getType(){return"Search"}get type(){return En.getType()}getAll(e){const t=[];return e.forEachProjectNote(((e,n)=>{this.#j(n)&&t.push(n)})),t}#j(e){if(null==e)return!1;const t=new Date(e.dueDate);return t.setHours(0,0,0,0),!(null!=this.#S&&In(t,this.#S)<0||null!=this.#M&&In(t,this.#M)>0)}}class Nn extends ct{constructor(e=null){super(e)}getTargetType(){return En.getType()}render(e,t,n){if(!t||!t.hasWrapper)return;const r=this.createList(e,t,n);this.controller.handleObjectRendered(this,n,t,r),t.wrapper.appendChild(r)}createList(e,t,n){return function(e,t={}){const n=document.createDocumentFragment(),r=St({class:"search"});return"content"in t&&qt(r,t.content),n.append(r),n}(0,{content:[()=>this.createTitle(n),()=>this.createContent(e,t,n)]})}createTitle(e){return function(e){const t=document.createDocumentFragment(),n=St({class:"search-title"}),r=bt();return r.innerHTML=function(e={title:"search"}){const[t,n,r]=wt(e);return`\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="${n}" height="${r}">\n    <title>${t}</title>\n    <path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" />\n</svg>`}({w:40,h:40}),r.append(`${e.title}`),n.appendChild(r),t.appendChild(n),t}(e)}createContent(e,t,n){const r=t.getSettingsParam("result");if(null==r)return function(){const e=document.createDocumentFragment(),t=St({class:"search-list-empty"}),n=St({class:"search-empty"});return n.innerHTML="No results &#128577",t.append(n),e.append(t),e}();let o=[];return r.forEach((t=>{o.push((()=>e.renderReturn(t,new at(null,{mode:"item"}))))})),function(e,t={}){const n=document.createDocumentFragment(),r=St({class:"search-list"});return"content"in t&&qt(r,t.content),n.appendChild(r),n}(0,{content:o})}}class Fn extends ct{getTargetType(){return it.getType()}render(e,t,n){if(!t||!t.hasWrapper)return;const r=this.createMenu(n);this.controller.handleObjectRendered(this,n,t,r),t.wrapper.appendChild(r)}createMenu(e){const t=document.createDocumentFragment(),n=St({class:"search"}),r=St({class:"list-wrapper"});n.append(bt({text:e.title}));let o=[];return e.forEachItem((e=>{o.push((()=>Ft({class:["link"],text:e.label,id:e.id})))})),r.append(Mt({content:o})),n.append(r),t.append(n),t}}class Ln{#T=null;#P=null;constructor(e){this.#P=e}get app(){return this.#P}handleObjectRendered(e,t,n,r){}handlePartialRendered(e,t,n,r,o){}__showDialog(e,t,n,r,o=null){if("string"!=typeof e||""===e.trim())return console.error("Invalid dialogId: must be a non-empty string"),!1;if("function"!=typeof t)return console.error("Invalid dialogFunc: must be a function"),!1;if(null!=n&&"function"!=typeof n)return console.error("Invalid onConfirm: must be a function or null"),!1;if(null!=r&&"function"!=typeof r)return console.error("Invalid onCancel: must be a function or null"),!1;if(null!=o&&"function"!=typeof o)return console.error("Invalid onSubmit: must be a function or null"),!1;if(null!=this.#T&&this.#T.open)return console.warn("A dialog is already open"),!1;let i=document.getElementById(e),a=null;if(null==i&&(a=document.getElementById("dialog"),null==a))return console.error("Dialog wrapper element with ID 'dialog' not found in the DOM"),!1;const s=t(),c=s.firstChild,l=s.querySelector(".button-confirm"),d=s.querySelector(".button-cancel");if(this.#T=s.firstChild,null==o)l.addEventListener("click",(()=>{null!=n?n(c)&&this.__closeDialog():this.__closeDialog()}));else{const e=s.querySelector("form");e?e.addEventListener("submit",(()=>{o(c)})):console.error("Form not found in dialog")}return d.addEventListener("click",(()=>{null!=r&&r(c),this.__closeDialog()})),null!=i?i.replaceWith(s):a.appendChild(s),this.#T.showModal(),!0}__closeDialog(){null!=this.#T&&this.#T.open&&(this.#T.close(),this.#T=null)}}class Hn extends Ln{constructor(e){super(e)}handleObjectRendered(e,t,n,r){r.querySelector(".libray-add-project-button")?.addEventListener("click",(e=>{this.#I(t)})),r.querySelectorAll(".library-project-button").forEach((e=>{e.addEventListener("click",(e=>this.#E(e,t)))}))}#E(e,t){const n=e.target.closest("button");if(!n)return void console.error("Button not found");const r=n.dataset?.id;null!=r?this.app.renderProject(r,!0):console.error("Invalid project id")}#I(e){this.__showDialog("new-project-dialog",(()=>function(e,t={}){const n=document.createDocumentFragment(),r=document.createElement("dialog");r.id="new-project-dialog";const o=bt({text:"add project"}),i=function(){const e=document.createDocumentFragment(),t=function(e={}){const t=document.createElement("form");return Lt(t,e),"method"in e&&(t.method=e.method),"action"in e&&(t.action=e.action),t}({method:"dialog",id:"new-project-form",class:"add-project-form"}),n=Wt({id:"new-project-name",placeholder:"project name",required:!0}),r=St({class:"controls"}),o=Pt({type:"submit"}),i=It({type:"reset"});return r.appendChild(o),r.appendChild(i),t.appendChild(n),t.appendChild(r),e.append(t),e}();return"open"in t&&t.open&&(r.open=!0),r.append(o),r.append(i),n.append(r),n}()),null,null,(t=>{this.#N(t,e)}))}#N(e,t){const n=e.querySelector("#new-project-name");if(!n)return void console.error("Project name input not found in DOM");let r=n.value;if("string"!=typeof r)return void console.error("Project name must be a valid string");if(r=r.trim(),""===r)return;n.value="";const o=t.addProject(new rt(r.trim()));this.app.render(o.id)}}class qn extends Ln{constructor(e){super(e)}handleObjectRendered(e,t,n,r){r.querySelector(".button-list").addEventListener("click",(e=>{this.handleButtonListClicked(t)})),r.querySelector(".button-grid").addEventListener("click",(e=>{this.handleButtonGridClicked(t)})),r.querySelector(".button-add").addEventListener("click",(e=>{this.handleButtonAddClicked(e,t)})),r.querySelector(".project-delete-button")?.addEventListener("click",(e=>{this.#F(t)}))}handleButtonListClicked(e){this.app.projectMode="list",this.app.renderProject(e.id,!0)}handleButtonGridClicked(e){this.app.projectMode="grid",this.app.renderProject(e.id,!0)}#F(e){this.__showDialog("project-delete-dialog",(()=>function(e,t={}){const n=document.createDocumentFragment(),r=document.createElement("dialog");r.id="project-delete-dialog",r.classList.add("delete-dialog");const o=function(){const e=document.createDocumentFragment(),t=St({class:"controls"}),n=Pt(),r=It();return t.appendChild(n),t.appendChild(r),e.append(t),e}(),i=bt({text:"confirm project deletion"}),a=vt();return a.append("Are you sure you want to delete the project ",kt({text:e.name}),"? ",Ct({text:"This action cannot be undone."})),"open"in t&&t.open&&(r.open=!0),r.append(i),r.append(a),r.append(o),n.append(r),n}(e)),(()=>(e.removeSave(),this.app.library.removeProjectById(e.id),this.app.render(),!0)))}handleButtonAddClicked(e,t){const n=e.target.closest("button"),r=this.app.renderSystem.renderReturn(t,new at(null,{partial:"add-note"})),o=r.firstChild,i=r.getElementById("new-note-name"),a=r.querySelector(".button-confirm"),s=r.querySelector(".button-cancel");n.replaceWith(r),a.addEventListener("click",(()=>this.#L(t,o,i,n))),s.addEventListener("click",(()=>this.#H(t,o,i,n))),i.addEventListener("keydown",(e=>{e.repeat||"Enter"!==e.key||this.#L(t,o,i,n)})),i.focus()}#L(e,t,n,r){const o=n.value;"string"==typeof o&&""!==o.trim()?(e.addNote(new tt({title:o.trim()})),e.save(),this.app.renderProject(e.id,!0)):t.replaceWith(r)}#H(e,t,n,r){t.replaceWith(r)}}class An extends Ln{constructor(e){super(e)}handleObjectRendered(e,t,n,r){const o="details"===n.getSettingsParam("mode","card");r.querySelector(".button-done").addEventListener("click",(e=>{this.handleDoneClick(e,t)})),r.querySelector(".button-details")?.addEventListener("click",(e=>{this.handleDetailsClick(t)})),o&&(r.querySelector(".note-delete-button").addEventListener("click",(e=>{this.#q(t)})),r.querySelector(".button-add-text").addEventListener("click",(e=>{this.handleAddTextClick(e,t)})),r.querySelector(".button-add-checklist").addEventListener("click",(e=>{this.#A(e,t)}))),this.handlePartialRendered(e,t,n,null,r)}handlePartialRendered(e,t,n,r,o){const i="details"===n.getSettingsParam("mode","card");null!=r&&"title"!==r||(i?o.querySelector(".note-title").addEventListener("click",(n=>{this.handleTitleClick(n,e,t)})):o.querySelector(".note-title").addEventListener("click",(e=>{this.app.renderNote(t.projectId,t.id,!0)}))),i&&(null!=r&&"description"!==r||o.querySelector(".note-description-text").addEventListener("click",(n=>{this.handleNoteDescClick(n,e,t)})),null!=r&&"priority"!==r||o.querySelector(".priority").addEventListener("click",(e=>{this.handlePriorityClick(e,t)})),null!=r&&"dueDate"!==r||o.querySelector(".note-due-date").addEventListener("click",(e=>{this.handleDueDateClick(e,t)})))}handleDoneClick(e,t){t.toggleDone();const n=e.target.closest("button"),r=e.target.closest("article.note");n.updateDoneIcon(t.isDone),t.isDone?r.classList.add("note-done"):r.classList.remove("note-done"),t.save()}#q(e){this.__showDialog("note-delete-dialog",(()=>function(e,t={}){const n=document.createDocumentFragment(),r=document.createElement("dialog");r.id="note-delete-dialog",r.classList.add("delete-dialog");const o=function(){const e=document.createDocumentFragment(),t=St({class:"controls"}),n=Pt({type:"submit"}),r=It();return t.appendChild(n),t.appendChild(r),e.append(t),e}(),i=bt({text:"confirm note deletion"}),a=vt();return a.append("Are you sure you want to delete the note ",kt({text:e.title}),"? ",Ct({text:"This action cannot be undone."})),"open"in t&&t.open&&(r.open=!0),r.append(i),r.append(a),r.append(o),n.append(r),n}(e)),(()=>(this.#B(e),!0)))}#B(e){const t=e.projectId,n=e.project;n.removeNoteById(e.id),n.save(),this.app.renderProject(t,!0)}handleDetailsClick(e){this.app.renderNote(e.projectId,e.id,!0)}handleAddTextClick(e,t){const n=this.app.renderSystem.renderReturn(new M,new at(null,{mode:"new",note:t}));e.target.closest(".note").querySelector(".note-content").append(n)}#A(e,t){const n=t.addContent(new C),r=this.app.renderSystem.renderReturn(n,new at(null));e.target.closest(".note").querySelector(".note-content").append(r),t.save()}handleTitleClick(e,t,n){if(D())return;const r=e.target.closest("h3"),o=this.app.renderSystem.renderReturn(n,new at(null,{partial:"title-form"})),i=o.firstChild;r.replaceWith(o),this.#R(i,r,"note-title",((e,t,r)=>this.#O(n,e,t,r)),((e,t,r)=>this.#W(n,e,t,r)))}#O(e,t,n,r){if("string"!=typeof n.value||""===n.value.trim())return void t.replaceWith(r);e.title=n.value.trim(),e.save();const o=this.app.renderSystem.renderReturn(e,new at(null,{partial:"title",mode:"details"}));t.replaceWith(o)}#W(e,t,n,r){t.replaceWith(r)}handleNoteDescClick(e,t,n){if(D())return;const r=e.target.closest("section"),o=r.firstChild,i=this.app.renderSystem.renderReturn(n,new at(null,{partial:"description-form"})),a=i.firstChild;r.firstChild.replaceWith(i),this.#R(a,r,"note-desc",((e,t,r)=>this.#z(n,e,t,r)),((e,t,r)=>this.#Y(n,e,t,r,o)))}#z(e,t,n,r){e.description=n.value,e.save();const o=this.app.renderSystem.renderReturn(e,new at(null,{partial:"description",mode:"details"}));r.replaceWith(o)}#Y(e,t,n,r,o){t.replaceWith(o)}handlePriorityClick(e,t){if(D())return;const n=e.target.closest("div"),r=this.app.renderSystem.renderReturn(t,new at(null,{partial:"priority-form"})),o=r.firstChild;n.replaceWith(r),this.#R(o,n,"note-priority",((e,n,r)=>this.#_(t,e,n,r)),((e,n,r)=>this.#$(t,e,n,r)))}#_(e,t,n,r){e.priority=Number(n.value),e.save();const o=this.app.renderSystem.renderReturn(e,new at(null,{partial:"priority",mode:"details"}));t.replaceWith(o)}#$(e,t,n,r){t.replaceWith(r)}handleDueDateClick(e,t){if(D())return;const n=e.target.closest("div"),r=this.app.renderSystem.renderReturn(t,new at(null,{partial:"dueDate-form"})),o=r.firstChild;n.replaceWith(r),this.#R(o,n,"note-date",((e,n,r)=>this.#V(t,e,n,r)),((e,n,r)=>this.#G(t,e,n,r)))}#V(e,t,n,r){const o=n.value,i=et(o,"yyyy-MM-dd'T'HH:mm",new Date);if(isNaN(i))return console.error(`Due date format ${o} is not valid`),void t.replaceWith(r);e.setDueDate(i),e.save();const a=this.app.renderSystem.renderReturn(e,new at(null,{partial:"dueDate",mode:"details"}));t.replaceWith(a)}#G(e,t,n,r){t.replaceWith(r)}#R(e,t,n,r,o){const i=e.querySelector("#"+n),a=e.querySelector(".button-confirm"),s=e.querySelector(".button-cancel");a.addEventListener("click",(()=>r(e,i,t))),s.addEventListener("click",(()=>o(e,i,t))),i.addEventListener("keydown",(n=>{n.repeat||"Enter"!==n.key||r(e,i,t)})),i.focus()}}function Bn(e,t,n){const{years:r=0,months:o=0,weeks:i=0,days:a=0,hours:s=0,minutes:c=0,seconds:l=0}=t,d=J(e,n?.in),u=o||r?function(e,t,n){const r=J(e,n?.in);if(isNaN(t))return Q(n?.in||e,NaN);if(!t)return r;const o=r.getDate(),i=Q(n?.in||e,r.getTime());return i.setMonth(r.getMonth()+t+1,0),o>=i.getDate()?i:(r.setFullYear(i.getFullYear(),i.getMonth(),o),r)}(d,o+12*r):d,h=a||i?Ye(u,a+7*i):u,p=1e3*(l+60*(c+60*s));return Q(n?.in||e,+h+p)}class Rn extends Ln{constructor(e){super(e)}handleObjectRendered(e,t,n,r){t instanceof it?this.#Q(e,t,n,r):t instanceof En&&this.#X(e,t,n,r)}#Q(e,t,n,r){r.querySelectorAll("button").forEach((e=>{e.addEventListener("click",(()=>this.#Z(e)))}))}#X(e,t,n,r){}#Z(e){let t=null;switch(e.id){case"search-all":t=new En({title:"all"});break;case"search-today":t=new En({title:"today",begDate:new Date,endDate:new Date});break;case"search-week":const e=new Date,n=Bn(e,{days:7-parseInt(hn(e,"i"))});t=new En({title:"this week",begDate:e,endDate:n})}let n=t.getAll(this.app.library);n.length<=0&&(n=null),null!=t&&this.app.renderSearch(t,n)}}class On extends Ln{#J;handleObjectRendered(e,t,n,r){const o=n.getSettingsParam("mode","default"),i=n.getSettingsParam("note",null);"new"===o?this.#U(r.firstChild,null,t,i,!0):r.querySelector(".text-block").addEventListener("click",(e=>{this.#K(e,t)}))}#K(e,t){if(D())return;const n=e.target.closest(".text-block");if(null==n)return void console.error("No text block found");const r=this.app.renderSystem.renderReturn(t,new at(null,{partial:"form"})),o=r.firstChild;n.replaceWith(r),this.#U(o,n,t,t.note,!1)}#U(e,t,n,r,o){const i=e.querySelector("textarea"),a=e.querySelector(".button-confirm"),s=e.querySelector(".button-cancel"),c=e.querySelector(".button-delete");a.addEventListener("click",(e=>this.#ee(e,n))),s.addEventListener("click",(e=>this.#te(e,n))),c.addEventListener("click",(e=>this.#ne(e,n))),e.text_ctrl_content=t,e.text_ctrl_input=i,e.text_ctrl_isnew=o,e.text_ctrl_note=r}#ee(e,t){const n=e.target.closest(".text-block-edit-form"),r=n.text_ctrl_input,o=n.text_ctrl_isnew,i=n.text_ctrl_note;if(t.text=r.value,""==t.text.trim())this.#J=n,this.#B(o?null:t);else{o&&i.addContent(t),i.save();const e=this.app.renderSystem.renderReturn(t,new at(null));n.replaceWith(e)}}#te(e,t){const n=e.target.closest(".text-block-edit-form"),r=n.text_ctrl_content;n.text_ctrl_isnew?(this.#J=n,this.#B(null)):n.replaceWith(r)}#ne(e,t){this.#J=e.target.closest(".text-block-edit-form"),this.__showDialog("text-block-delete-dialog",kn,(()=>(this.#B(this.#J.text_ctrl_isnew?null:t),!0)))}#B(e){if(null!=e){const t=e.note;t.removeContentById(e.id),t.save()}null!=this.#J&&this.#J.parentNode.removeChild(this.#J)}}class Wn extends Ln{#re=null;#oe=null;#ie=!1;handleObjectRendered(e,t,n,r){n.getSettingsParam("mode","default"),r.querySelector(".button-add").addEventListener("click",(e=>{this.#ae(e,t)})),r.querySelector(".button-delete").addEventListener("click",(e=>{this.#q(e,t)})),r.querySelector("ul").addEventListener("click",(e=>{this.#se(e,t)}))}#ae(e,t){if(this.#ce(),D())return;const n=e.target.closest(".checklist");if(null==n)return void console.error("checklist not found");const r=n.querySelector("ul");if(null==r)return void console.error("list not found");const o=this.app.renderSystem.renderReturn(t,new at(null,{partial:"new"})),i=o.firstChild;r.append(o),this.#le(i,null,t,null)}#q(e,t){this.__showDialog("checklist-delete-dialog",Tn,(()=>(this.#de(e,t),!0)))}#de(e,t){if(null!=t){const e=t.note;e.removeContentById(t.id),e.save()}const n=e.target.closest(".checklist");null!=n?n.remove():console.error("Unable to delete, content element not found in DOM")}#se(e,t){const n=e.target.closest(".checklist-input");if(null!=n)return void this.#ue(e,t,n);const r=e.target.closest(".checklist-text");null==r||this.#he(e,t,r)}#ue(e,t,n){const r=n.closest(".checklist-item");if(null==r)return void console.error("No checklist item found");const o=parseInt(r.dataset.id);if(isNaN(o))return void console.error("Invalid index");const i=n.querySelector("input");null!=i?(t.setCheckedById(o,i.checked),t.save()):console.error("No input element")}#he(e,t,n){if(this.#ce(),D())return;const r=n.closest(".checklist-item");if(null==r)return void console.error("No checklist item found");const o=parseInt(r.dataset.id);if(isNaN(o))return void console.error("Invalid index");const i=this.app.renderSystem.renderReturn(t,new at(null,{partial:"item-form",id:o})),a=i.firstChild;n.replaceWith(i),this.#le(a,n,t,o)}#le(e,t,n,r){this.#ce();const o=e.querySelector("input"),i=e.querySelector(".button-confirm"),a=e.querySelector(".button-cancel"),s=e.querySelector(".button-delete");this.#oe=e,this.#re=t,this.#ie=null==r,i.addEventListener("click",(e=>this.#pe(n,r,o))),a.addEventListener("click",(e=>this.#me())),s?.addEventListener("click",(e=>this.#fe(n,r))),o.addEventListener("keydown",(e=>{e.repeat||"Enter"!==e.key||this.#pe(n,r,o)})),o.focus()}#pe(e,t,n){const r=n.value.trim();if(""!==r){if(this.#ie){t=e.add(r);const n=this.app.renderSystem.renderReturn(e,new at(null,{partial:"item",id:t,listitem:!0}));this.#re=n}else{e.setTextById(t,r);const n=this.app.renderSystem.renderReturn(e,new at(null,{partial:"item-text",id:t}));this.#re=n}e.save(),this.#ce()}else this.#ce()}#me(){this.#ce()}#fe(e,t){this.__showDialog("checklist-item-delete-dialog",jn,(()=>(this.#ge(e,t),!0)))}#ce(){null!=this.#oe&&(null==this.#re?this.#oe.remove():this.#oe.replaceWith(this.#re),this.#re=null,this.#oe=null,this.#ie=!1)}#ge(e,t){if(null!=e&&(e.removeById(t),e.save()),null!=this.#oe){const e=this.#oe.closest("li");if(null==e)return void console.error("No checklist item found");e.remove()}}}function zn(e={}){return"id"in e||(e.id="app-first-time-dialog"),"title"in e||(e.title="load test data"),e.text="This is the first time you open the application. Do you want to load the test data?",function(e={}){const t=document.createDocumentFragment(),n=document.createElement("dialog"),r=xn(e);if(e.class=[].concat(e.class??[],"question-dialog"),Lt(n,e),"title"in e){const t=bt({text:e.title});n.append(t)}if("text"in e){const t=vt({text:e.text});n.append(t)}return"open"in e&&e.open&&(n.open=!0),n.append(r),t.append(n),t}(e)}class Yn extends Ln{loadInitialData(){this.__showDialog("app-first-time-dialog",zn,(()=>(this.#ye(),this.app.save(),this.app.render(),!0)))}#ye(){let e=null,t=null;t=this.app.library.getDefaultProject().addNote(new tt({title:"Grocery Shopping & Meal Prep",description:"Check pantry inventory, create a shopping list for weekly meals, and budget for essentials",dueDate:new Date,done:!1,priority:w.Medium})),t.addContent(new M("We should prioritize fresh produce and healthy snacks and allocate time for meal prepping on Sunday afternoon.")),t.addContent(new C([{text:"Check pantry and fridge",checked:!0},{text:"Plan weekly meals",checked:!0},"Create a shopping list","Set a budget","Go shopping","Organize groceries","Meal prep (Sunday afternoon)","Clean and store"])),this.app.library.getDefaultProject().addNote(new tt({title:"Schedule HVAC Maintenance",description:"Contact a licensed technician to inspect and service the heating/cooling system before winter, replace air filters and test thermostat functionality.",done:!0,priority:w.Low})),e=this.app.library.addProject(new rt("Awesome Tools")),t=e.addNote(new tt({title:"Implement Drag-and-Drop UI Component",description:"Develop a reusable drag-and-drop interface for webpage element customization.",dueDate:Ye(new Date,1),done:!1,priority:w.High})),t.addContent(new M("Include error handling for invalid element placements")),t.addContent(new M("Test cross-browser compatibility (Chrome, Firefox, Safari)")),t.addContent(new C([{text:"Sketch wireframe for UI container boundaries",checked:!0},"Integrate React-DnD library","Write unit tests for edge cases"])),t=e.addNote(new tt({title:"User Testing: Prototype Feedback Session",description:"Organize a usability test for the web design tool's beta version.",dueDate:Ye(new Date,42),done:!1,priority:w.Medium})),t.addContent(new M("Target audience: 10 freelance web designers")),t.addContent(new M("Prepare a feedback form (Google Forms/Typeform)")),t.addContent(new M("Record screen interactions for analysis")),t.addContent(new C([{text:"Schedule testing sessions via Calendly",checked:!0},{text:"Set up test environment with dummy projects",checked:!0},"Compile results into a report"])),t=e.addNote(new tt({title:"Optimize Preview Mode Rendering Speed",description:"Improve performance of real-time webpage preview in the design tool.",dueDate:Ye(new Date,42),done:!1,priority:w.Hight})),t.addContent(new M("Current avg. render time: 2.8s (target: <1s)")),t.addContent(new C(["Profile JavaScript execution bottlenecks","Implement memoization for repeated calculations"])),e=this.app.library.addProject(new rt("Mega Idea")),t=e.addNote(new tt({title:"Finalize Core Feature List",description:"Define and prioritize the MVP (Minimum Viable Product) features for the Mega Idea project launch.",dueDate:Ye(new Date,5),done:!1,priority:w.Critical})),t.addContent(new M("Alignment required with 2025 company roadmap")),t.addContent(new C([{text:"Draft initial feature proposals",checked:!0},"Run cost-benefit analysis for AI integration","Schedule voting session with stakeholders","Document final decisions in Confluence"])),e=this.app.library.addProject(new rt("Empty Project"))}}const _n=n.p+"2f7116fc47046c18ce62.svg";class $n{library=new ot;controllers=[];renderSystem=new st;searchMenu=new it;projectMode="grid";constructor(){this.library=new ot,this.library.addProject(rt.CreateDefaultProject()),this.controllers.push(new Hn(this)),this.controllers.push(new qn(this)),this.controllers.push(new An(this)),this.controllers.push(new Rn(this)),this.controllers.push(new On(this)),this.controllers.push(new Wn(this)),this.controllers.push(new Yn(this)),this.renderSystem.addProcessor(new Vt(this.controllers[0])),this.renderSystem.addProcessor(new Zt(this.controllers[1])),this.renderSystem.addProcessor(new wn(this.controllers[2])),this.renderSystem.addProcessor(new Cn(this.controllers[4])),this.renderSystem.addProcessor(new Pn(this.controllers[5])),this.renderSystem.addProcessor(new Nn(this.controllers[3])),this.renderSystem.addProcessor(new Fn(this.controllers[3]))}static getType(){return"App"}get type(){return $n.getType()}static get appKey(){return"__app__"}render(e=null){this.renderSidebar(),null==e?this.renderDefaultMain():this.renderProject(e,!0)}renderSidebar(){const e=document.getElementById("sidebar");if(!e)return void console.error("Sidebar element not found");let t=document.getElementById("logo");if(null==t.firstChild){let e=document.createElement("img");e.src=_n,e.width=180,t.append(e)}const n=e.querySelector(".search");n?this.renderSystem.renderReplace(this.searchMenu,new at(n)):this.renderSystem.renderAppend(this.searchMenu,new at(e));const r=document.getElementById("library-projects");r?this.renderSystem.renderReplace(this.library,new at(r,{id:"library-projects",mode:"list"})):this.renderSystem.renderAppend(this.library,new at(e,{id:"library-projects",mode:"list"}))}renderDefaultMain(){this.library.hasProjects&&this.renderProject(this.library.getProject(0).id,!0)}renderProject(e,t,n={}){const r=document.querySelector("#main");if(!r)return void console.error("Main element not found");const o=new at(r,{mode:"project",id:e,settings:n});t?this.renderSystem.renderReplaceChildren(this.library,o):this.renderSystem.renderAppend(this.library,o)}renderNote(e,t,n){const r=document.querySelector("#main");if(!r)return void console.error("Main element not found");const o=new at(r,{mode:"note",id:[e,t],settings:{mode:"details"}});n?this.renderSystem.renderReplaceChildren(this.library,o):this.renderSystem.renderAppend(this.library,o)}renderSearch(e,t){const n=document.querySelector("#main");n?this.renderSystem.renderReplaceChildren(e,new at(n,{result:t})):console.error("Main element not found")}save(){this.library.save(),localStorage.setItem(y,JSON.stringify({projectMode:this.projectMode}))}load(){this.library.load();const e=localStorage.getItem(y);if(null!=e){const t=JSON.parse(e);this.projectMode=t.projectMode}else this.controllers.at(-1).loadInitialData()}}const Vn=new $n;Vn.load(),Vn.render(),Vn.save()})();